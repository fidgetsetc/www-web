(()=>{"use strict";var e={},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,t),o.loaded=!0,o.exports}t.m=e,(()=>{var e,n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var o=Object.create(null);t.r(o);var a={};e=e||[null,n({}),n([]),n(n)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,t.d(o,a),o}})(),(()=>{t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((n,r)=>(t.f[r](e,n),n)),[]))})(),(()=>{t.u=e=>"inline.text-encoder-lite.chunk.js"})(),(()=>{t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={};t.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var a,u;if(void 0!==i)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var l=s[c];if(l.getAttribute("src")==n){a=l;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,t.nc&&a.setAttribute("nonce",t.nc),a.src=n),e[n]=[r];var f=(t,r)=>{a.onerror=a.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),u&&document.head.appendChild(a)}}})(),(()=>{t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!e;)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{var e={16:0};t.f.j=(n,r)=>{var i=t.o(e,n)?e[n]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((t,r)=>i=e[n]=[t,r]));r.push(i[2]=o);var a=t.p+t.u(n),u=new Error;t.l(a,(r=>{if(t.o(e,n)&&(0!==(i=e[n])&&(e[n]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+n+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,i[1](u)}}),"chunk-"+n,n)}};var n=(n,r)=>{var i,o,[a,u,s]=r,c=0;if(a.some((n=>0!==e[n]))){for(i in u)t.o(u,i)&&(t.m[i]=u[i]);s&&s(t)}for(n&&n(r);c<a.length;c++)o=a[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)};function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var o=function(){return o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},o.apply(this,arguments)};function a(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):function(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(a,u)}s((r=r.apply(e,n||[])).next())}))}function u(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(t=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(e,a)}catch(e){u=[6,e],r=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}function s(e,n,t){if(t||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var c=function(){var e=[];return{fireEvent:function(n){e.forEach((function(e){return e(n)}))},addListener:function(n){n&&e.push(n)}}}();function l(e,n,t){c.fireEvent({level:e,category:n,message:t})}function f(e,n,t){l(0,e,(function(){var e=t instanceof Error?t.message:"";return"".concat(n,": ").concat(e)}))}var d={};function v(e,n){"Office."===e.substring(0,7)&&"."!==e[e.length-1]?d[e]?(n.ariaTenantToken&&(d[e].ariaTenantToken=n.ariaTenantToken),n.dnmToken&&(d[e].dnmToken=n.dnmToken)):d[e]=n:l(0,0,(function(){return"Namespace: ".concat(e)}))}function p(e,n){for(var t=e.length;t>0;){var r=e.substr(0,t);if(d[r]){var i=d[r];return n.ariaTenantToken=i.ariaTenantToken,n.dnmToken=i.dnmToken,!0}t=e.lastIndexOf(".",t-1)}return!1}var h=9007199254740991,g=/^Office(\.[A-Z][a-zA-Z0-9]*){2,}$/,y=/^[a-zA-Z0-9_\.]{1,95}$/;function m(e){return y.test(e)}function b(e){e&&e.forEach((function(e){if("string"!=typeof e.name||!m(e.name))throw new Error("Invalid dataField name");2===e.dataType&&function(e){if("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e<-9007199254740991||e>h)throw new Error("Invalid integer ".concat(JSON.stringify(e)))}(e.value)}))}function T(e,n,t){return S(e,1,n,t)}function C(e,n,t){return S(e,2,n,t)}function w(e,n,t){return S(e,0,n,t)}function S(e,n,t,r){return{name:e,dataType:n,value:t,classification:r||4}}function E(e){var n={eventName:e.eventName,eventFlags:e.eventFlags||{},telemetryProperties:e.telemetryProperties?o({},e.telemetryProperties):{},dataFields:e.dataFields?e.dataFields.slice():[],timestamp:e.timestamp||(new Date).getTime()};return e.eventContract&&(n.eventContract={name:e.eventContract.name,dataFields:e.eventContract.dataFields.slice()}),n}var P=function(){function e(e,n,t){var r,i,a;this.telemetrySinks=[],this.persistentDataFields=[],this.partAFields=[],this.eventQueue=[],this.config=t||{},e&&(this.telemetrySinks=e.telemetrySinks,(r=this.persistentDataFields).push.apply(r,e.persistentDataFields),this.config=o(o({},e.getConfig()),this.config),(i=this.partAFields).push.apply(i,e.partAFields)),n&&(a=this.persistentDataFields).push.apply(a,n)}return e.prototype.addEventContentType=function(e,n){e.push(C("EventContent.Type",n))},e.prototype.sendTelemetryEvent=function(e){var n=E(e),t=n.telemetryProperties;t.nexusTenantToken=-1;var r=t.ariaTenantToken;r||p(n.eventName,t)||r?this.sendTelemetryEventInternal(n,1):l(0,0,(function(){return"No tenant token: "+e.eventName}))},e.prototype.sendNonStandardEvent=function(e,n){var t=E(e);this.sendTelemetryEventInternal(t,n)},e.prototype.sendCustomerContent=function(e){var n=E(e),t=n.telemetryProperties,r=t.customerContentVersion;return(!r||r>2)&&(t.customerContentVersion=2),t.ariaTenantToken=void 0,t.nexusTenantToken=void 0,t.dnmToken=void 0,this.addEventContentType(n.dataFields,2),this.sendTelemetryEventInternal(n,2)},e.prototype.sendDirectNumericEvent=function(e){var n=E(e),t=n.telemetryProperties;t.dnmToken||p(n.eventName,t)||t.dnmToken?(this.addEventContentType(n.dataFields,1),this.sendTelemetryEventInternal(n,3)):l(0,0,(function(){return"No dnm token: "+n.eventName}))},e.prototype.sendTelemetryEventInternal=function(e,n){if(2===n||!e.telemetryProperties.customerContentVersion&&!e.telemetryProperties.customerContentType){try{if(0===this.telemetrySinks.length)return void(this.config.enableQueue&&this.eventQueue.length<1e3?this.eventQueue.push([e,n]):l(1,0,(function(){return"No telemetry sinks are attached."})));this.processTelemetryEvent(e,n)}catch(e){return void f(0,"SendTelemetryEvent",e)}this.telemetrySinks.forEach((function(t){try{3===n||2===n?t.sendNonStandardEvent&&t.sendNonStandardEvent(e,n):t.sendTelemetryEvent(e)}catch(e){}}))}else l(0,0,(function(){return"Customer content"}))},e.prototype.processTelemetryEvent=function(e,n){var t,r,i;if(e.dataFields&&(null===(i=e.dataFields)||void 0===i||i.unshift(w("OTelJS.Version","4.18.2")),3!==n&&this.persistentDataFields&&(t=e.dataFields).unshift.apply(t,this.persistentDataFields)),this.partAFields.length>0){var o=e.eventContract||{name:"",dataFields:[]};(r=o.dataFields).push.apply(r,this.partAFields),e.eventContract=o}this.config.disableValidation||function(e){if(!function(e){return!(!e||e.length>98)&&g.test(e)}(e.eventName))throw new Error("Invalid eventName");var n=e.eventContract;if(n){if(n.name&&!m(n.name))throw new Error("Invalid eventContract");b(n.dataFields)}b(e.dataFields)}(e)},e.prototype.addSink=function(e){this.telemetrySinks.push(e),this.flushQueue()},e.prototype.flushQueue=function(){var e=this.eventQueue;if(this.eventQueue=[],this.telemetrySinks.length>0)for(var n=0,t=e;n<t.length;n++){var r=t[n],i=r[0],o=r[1];this.sendTelemetryEventInternal(i,o)}},e.prototype.setTenantToken=function(e,n,t){v(e,{ariaTenantToken:n,nexusTenantToken:t})},e.prototype.setDNMToken=function(e,n){v(e,{dnmToken:n})},e.prototype.cloneEvent=function(e){return E(e)},e.prototype.getConfig=function(){return this.config},e}();function k(e,n){return e?e+"."+n:n}function O(e,n,t,r,i){void 0===i&&(i=4),r&&e.push(w("".concat(k(n,t)),r,i))}function _(e,n,t,r){"boolean"==typeof r&&e.push(T("".concat(k(n,t)),r))}function A(e,n,t,r){"number"==typeof r&&e.push(C("".concat(k(n,t)),r))}var I,x={contractName:"Office.System.Activity",getFields:function(e){var n="Activity",t=[];return O(t,n,"CV",e.cV),A(t,n,"Duration",e.duration),A(t,n,"Count",e.count),A(t,n,"AggMode",e.aggMode),_(t,n,"Success",e.success),e.result&&t.push.apply(t,function(e){var n="Activity.Result",t=[];return A(t,n,"Code",e.code),O(t,n,"Type",e.type),A(t,n,"Tag",e.tag),_(t,n,"IsExpected",e.isExpected),t.push(w("zC.Activity.Result","Office.System.Result")),t}(e.result)),t.push(w("zC.Activity",this.contractName)),t}},N=function(e){var n="User",t=[];return O(t,n,"PrimaryIdentityHash",e.primaryIdentityHash),O(t,n,"PrimaryIdentitySpace",e.primaryIdentitySpace),O(t,n,"TenantId",e.tenantId,1),O(t,n,"TenantGroup",e.tenantGroup,1),_(t,n,"IsAnonymous",e.isAnonymous),_(t,n,"IsSignedIn",e.isSignedIn),t};!function(e){e.Web="Web",e.Desktop="Desktop",e.Universal="Universal",e.Mobile="Mobile",e.Win32="Win32",e.iOS="iOS",e.Android="Android"}(I||(I={}));var D,L,M,F=function(e){var n="App",t=[];return O(t,n,"Name",e.name,1),O(t,n,"Platform",e.platform,1),O(t,n,"Version",e.version,1),t},U=function(e){var n="Session",t=[];return O(t,n,"Id",e.id,1),O(t,n,"EcsETag",e.ecsETag,1),t};!function(e){e.Automation="Automation",e.Dogfood="Dogfood",e.Microsoft="Microsoft",e.Insiders="Insiders",e.Production="Production"}(D||(D={})),function(e){var n="Copilot";!function(e){e.IsEnabled="IsEnabled",e.IsSeen="IsSeen",e.IsTried="IsTried",e.IsKept="IsKept",e.IsRejected="IsRejected"}(e.FeatureActionType||(e.FeatureActionType={})),function(e){e.ContentGeneration="Content Generation",e.Commanding="Commanding",e.QAandSummaries="QA and Summaries",e.Collaboration="Collaboration",e.Suggestions="Suggestions"}(e.Capability||(e.Capability={})),function(e){e.Chat="Chat",e.Canvas="Canvas"}(e.EntryPoint||(e.EntryPoint={})),function(e){e.Create="Create",e.Command="Command",e.Ask="Ask",e.Summarize="Summarize",e.Share="Share",e.Analyze="Analyze"}(e.Verb||(e.Verb={})),e.getFields=function(e){var t=[];return O(t,n,"FeatureActionType",e.featureActionType),_(t,n,"IsUserInitiated",e.isUserInitiated),O(t,n,"FeatureName",e.featureName),O(t,n,"SubFeatureName",e.subFeatureName),O(t,n,"Capability",e.capability),_(t,n,"IsThumbsUp",e.isThumbsUp),O(t,n,"EntryPoint",e.entryPoint),O(t,n,"Verb",e.verb),t.push(w("zC.".concat(n),"Office.System.Copilot")),t}}(L||(L={})),function(e){var n="Asha";!function(e){e.Pillar="Pillar",e.Error="Error"}(e.EventType||(e.EventType={})),e.getFields=function(e){var t=[];return O(t,n,"EventType",e.eventType),O(t,n,"Pillar",e.pillar),O(t,n,"Scenario",e.scenario),O(t,n,"Veto",e.veto),O(t,n,"Error",e.error),_(t,n,"InStaging",e.inStaging),_(t,n,"IsSessionEndingError",e.isSessionEndingError),_(t,n,"IsIntentional",e.isIntentional),_(t,n,"IsInternal",e.isInternal),t.push(w("zC.".concat(n),"Office.System.Asha")),t}}(M||(M={}));var R=function(){return 1e3*Date.now()};"object"==typeof window&&"object"==typeof window.performance&&"now"in window.performance&&(R=function(){return 1e3*Math.floor(window.performance.now())});var z,B,j=function(e){var n,t=R(),r=E(e.telemetryEvent);return o(o({cv:e.parentCv.getNext()},r),{createChildActivity:function(n){return j({telemetryEvent:n,sendTelemetryEvent:e.sendTelemetryEvent,parentCv:this.cv})},setResult:function(e,n,t){this.result={code:e,type:n,tag:t}},endNow:function(){var r,i;if(!n){void 0===this.success&&void 0===this.result&&l(1,0,(function(){return"Activity does not have success or result set"}));var o=R();n=!0;var a={duration:o-t,count:1,aggMode:0,cV:this.cv.value,success:this.success,result:this.result},u=null!==(i=null===(r=this.eventContract)||void 0===r?void 0:r.dataFields)&&void 0!==i?i:[];return u.push.apply(u,x.getFields(a)),this.eventContract={name:x.contractName,dataFields:u},e.sendTelemetryEvent(this)}l(0,0,(function(){return"Already ended"}))}})},K=function(){function e(e){this.value=e,this.nextChild=0}return e.prototype.getNext=function(){return new e("".concat(this.value,".").concat(++this.nextChild))},e}(),q=function(e){function n(n,t,r){var i=e.call(this,n,t,r)||this;return i.baseCv=function(){if(!z){for(var e=[],n=0;n<22;n++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Math.floor(64*Math.random())));z=new K(e.join(""))}return z}(),i}return i(n,e),n.prototype.createActivity=function(e){return j({sendTelemetryEvent:this.sendTelemetryEvent.bind(this),telemetryEvent:e,parentCv:this.baseCv})},n.prototype.sendActivity=function(e,n,t,r){return this.sendTelemetryEvent({eventName:e,eventContract:{name:x.contractName,dataFields:x.getFields(n)},dataFields:t,eventFlags:r})},n.prototype.sendError=function(e){var n=function(e){var n="Error",t=[];return t.push(w("".concat(n,".ErrorGroup"),e.errorGroup)),t.push(C("".concat(n,".Tag"),e.tag)),void 0!==e.code&&t.push(C("".concat(n,".Code"),e.code)),void 0!==e.id&&t.push(C("".concat(n,".Id"),e.id)),void 0!==e.count&&t.push(C("".concat(n,".Count"),e.count)),t}(e.error);return null!=e.dataFields&&n.push.apply(n,e.dataFields),this.sendTelemetryEvent({eventName:e.eventName,dataFields:n,eventFlags:e.eventFlags})},n.prototype.createCustomerContentActivity=function(e){return j({sendTelemetryEvent:this.sendCustomerContent.bind(this),telemetryEvent:e,parentCv:this.baseCv})},n}(P);!function(e){e.USGOV_DOD="https://pf.events.data.microsoft.com/OneCollector/1.0/",e.USGOV_DOJ="https://tb.events.data.microsoft.com/OneCollector/1.0/",e.PUBLIC="https://browser.events.data.microsoft.com/OneCollector/1.0/",e.CUSTOMER_CONTENT="",e.EUDB="https://eu-office.events.data.microsoft.com/OneCollector/1.0/"}(B||(B={}));var H="function",V="object",Q="undefined",G="prototype",W="hasOwnProperty",X=Object,J=X[G],$=X.assign,Z=X.create,Y=X.defineProperty,ee=J[W],ne=null;function te(e){void 0===e&&(e=!0);var n=!1===e?null:ne;return n||(typeof globalThis!==Q&&(n=globalThis),n||typeof self===Q||(n=self),n||typeof window===Q||(n=window),n||typeof t.g===Q||(n=t.g),ne=n),n}function re(e){throw new TypeError(e)}function ie(e){if(Z)return Z(e);if(null==e)return{};var n=typeof e;function t(){}return n!==V&&n!==H&&re("Object prototype may only be an Object:"+e),t[G]=e,new t}var oe="initialize",ae="name",ue="getNotifyMgr",se="identifier",ce="push",le="isInitialized",fe="config",de="instrumentationKey",ve="logger",pe="length",he="time",ge="processNext",ye="getProcessTelContext",me="addNotificationListener",be="removeNotificationListener",Te="stopPollingInternalLogs",Ce="onComplete",we="getPlugin",Se="flush",Ee="_extensions",Pe="splice",ke="teardown",Oe="messageId",_e="message",Ae="isAsync",Ie="_doTeardown",xe="update",Ne="getNext",De="diagLog",Le="setNextPlugin",Me="createNew",Fe="cookieCfg",Ue="indexOf",Re="substring",ze="userAgent",Be="split",je="setEnabled",Ke="substr",qe="nodeType",He="apply",Ve="replace",Qe="enableDebugExceptions",Ge="toLowerCase",We="call",Xe="type",Je="handler",$e="listeners",Ze="isChildEvt",Ye="getCtx",en="setCtx",nn="complete",tn="traceId",rn="spanId",on="traceFlags",an="",un="channels",sn="core",cn="createPerfMgr",ln="disabled",fn="extensionConfig",dn="processTelemetry",vn="priority",pn="eventsSent",hn="eventsDiscarded",gn="eventsSendRequest",yn="perfEvent",mn="errorToConsole",bn="warnToConsole",Tn="getPerfMgr",Cn="toISOString",wn="endsWith",Sn="startsWith",En="indexOf",Pn="trim",kn="toString",On="__proto__",_n="constructor",An=Y,In=X.freeze,xn=(X.seal,X.keys),Nn=String[G],Dn=Nn[Pn],Ln=Nn[wn],Mn=Nn[Sn],Fn=Date[G][Cn],Un=Array.isArray,Rn=J[kn],zn=ee[kn],Bn=zn[We](X),jn=/-([a-z])/g,Kn=/([^\w\d_$])/g,qn=/^(\d+[\w\d_$])/,Hn=Object.getPrototypeOf;function Vn(e){return void 0===e||typeof e===Q}function Qn(e){return null===e||Vn(e)}function Gn(e){return!Qn(e)}function Wn(e,n){return!(!e||!ee[We](e,n))}function Xn(e){return!(!e||typeof e!==V)}function Jn(e){return!(!e||typeof e!==H)}function $n(e){var n=e;return n&&tt(n)&&(n=(n=(n=n[Ve](jn,(function(e,n){return n.toUpperCase()})))[Ve](Kn,"_"))[Ve](qn,(function(e,n){return"_"+n}))),n}function Zn(e,n){if(e)for(var t in e)ee[We](e,t)&&n[We](e,t,e[t])}function Yn(e,n){var t=!1;return e&&n&&!(t=e===n)&&(t=Mn?e[Sn](n):function(e,n){var t=!1,r=n?n[pe]:0;if(e&&r&&e[pe]>=r&&!(t=e===n)){for(var i=0;i<r;i++)if(e[i]!==n[i])return!1;t=!0}return t}(e,n)),t}function et(e,n){return!(!e||!n)&&-1!==e[Ue](n)}var nt=Un||function(e){return!(!e||"[object Array]"!==Rn[We](e))};function tt(e){return"string"==typeof e}function rt(e){return"number"==typeof e}function it(e){return"boolean"==typeof e}function ot(e){var n=!1;if(e&&"object"==typeof e){var t=Hn?Hn(e):function(e){if(e){if(Hn)return Hn(e);var n=e[On]||e[G]||e[_n];if(n)return n}return null}(e);t?(t[_n]&&ee[We](t,_n)&&(t=t[_n]),n=typeof t===H&&zn[We](t)===Bn):n=!0}return n}function at(e){if(e)return Fn?e[Cn]():function(e){if(e&&e.getUTCFullYear){var n=function(e){var n=String(e);return 1===n[pe]&&(n="0"+n),n};return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function ut(e,n,t){var r=e[pe];try{for(var i=0;i<r&&(!(i in e)||-1!==n[We](t||e,e[i],i,e));i++);}catch(e){}}function st(e,n,t){if(e){if(e[En])return e[En](n,t);var r=e[pe],i=t||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===n)return o}catch(e){}}return-1}function ct(e){return e&&(e=Dn&&e[Pn]?e[Pn]():e[Ve]?e[Ve](/^\s+|(?=\s)\s+$/g,an):e),e}var lt=!{toString:null}.propertyIsEnumerable("toString"),ft=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function dt(e){var n=typeof e;if(n===H||n===V&&null!==e||re("objKeys called on non-object"),!lt&&xn)return xn(e);var t=[];for(var r in e)e&&ee[We](e,r)&&t[ce](r);if(lt)for(var i=ft[pe],o=0;o<i;o++)e&&ee[We](e,ft[o])&&t[ce](ft[o]);return t}function vt(e,n,t,r){if(An)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),An(e,n,i),!0}catch(e){}return!1}var pt=In||function(e){return e};function ht(){var e=Date;return e.now?e.now():(new e).getTime()}function gt(e){return function(e){return!(!e||"[object Error]"!==Rn[We](e))}(e)?e[ae]:an}function yt(e,n,t,r,i){var o=t;return e&&((o=e[n])===t||i&&!i(o)||r&&!r(t)||(o=t,e[n]=o)),o}function mt(e,n,t){var r;return e?!(r=e[n])&&Qn(r)&&(r=Vn(t)?{}:t,e[n]=r):r=Vn(t)?{}:t,r}function bt(e,n){return Qn(e)?n:e}function Tt(e){return!!e}function Ct(e){throw new Error(e)}function wt(e,n,t,r,i){e&&n&&t&&(!1!==i||Vn(e[n]))&&(e[n]=function(e,n){var t=null,r=null;return Jn(e)?t=e:r=e,function(){var e=arguments;if(t&&(r=t()),r)return r[n][He](r,e)}}(t,r))}function St(e){return e&&$&&(e=X($({},e))),e}function Et(e,n,t,r,i,o){var a=arguments,u=a[0]||{},s=a[pe],c=!1,l=1;for(s>0&&it(u)&&(c=u,u=a[l]||{},l++),Xn(u)||(u={});l<s;l++){var f=a[l],d=nt(f),v=Xn(f);for(var p in f)if(d&&p in f||v&&ee[We](f,p)){var h=f[p],g=void 0;if(c&&h&&((g=nt(h))||ot(h))){var y=u[p];g?nt(y)||(y=[]):ot(y)||(y={}),h=Et(c,y,h)}void 0!==h&&(u[p]=h)}}return u}var Pt,kt="Data.",Ot="User.PrimaryIdentityHash",_t="User.PrimaryIdentitySpace",At="User.TenantId",It="User.IsAnonymous",xt="User.IsSignedIn";function Nt(e,n,t,r){var i=!0;if(n)for(var o=function(n){var o,a=n.classification,u=n.dataType,s=n.name;if(a&&!(4===a||1===a||2===r&&32===a||3===r&&2048===a))return i=!1,"break";if(3===r&&t&&3!==u&&1!==u&&2!==u&&"OTelJS.Version"!==s&&"OTelJS.Sink"!==s)return l(0,1,(function(){return"DNM: Invalid field type "+s})),i=!1,"break";o=t?"zC."===s.substr(0,3)?"zC."+kt+s.substr(3):kt+s:s;var c=void 0;switch(u){case 3:c=6;break;case 2:c=4;break;case 4:c=8;break;case 0:return e[o]="string"==typeof n.value?n.value.substr(0,25e3):n.value,"continue";default:return e[o]=n.value,"continue"}var f={value:n.value,propertyType:c};e[o]=f},a=0,u=n;a<u.length&&"break"!==o(u[a]);a++);return i}function Dt(e){l(0,1,(function(){return"Invalid "+e}))}function Lt(e){return tt(e)&&""!==e}function Mt(e,n){return Object.values(n).includes(e)}function Ft(e){return Mt(e,I)}function Ut(e){return Mt(e,D)}function Rt(e){return["MSACID","MSAPUID","OrgIdCID","OrgIdPUID","UserObjectId","Other"].includes(e)}function zt(e){return!e||"Other"===e}function Bt(e,n){var t=!0;function r(n,r){r(e[n])||(Dt(n),t=!1)}function i(e){return new RegExp("^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$",n?"":"i").test(e)}return r("App.Name",Lt),r("App.Platform",n?Ft:Lt),r("App.Version",Lt),r("Session.Id",i),n?(r("Release.AudienceGroup",Ut),r(xt,it),e[xt]?(r(Ot,Lt),r(_t,Rt),["OrgIdCID","OrgIdPUID","UserObjectId"].includes(e[_t])?r(At,i):r(At,Qn)):(r(_t,zt),r(At,Qn))):e[It]||!1===e[xt]||(r(Ot,Lt),r(_t,Lt),e[At]&&r(At,i)),Qn(e[It])||e[xt]!==e[It]||(Dt(It),t=!1),t}var jt="undefined",Kt="constructor",qt="prototype",Ht="function",Vt="_dynInstFuncs",Qt="_isDynProxy",Gt="_dynClass",Wt="_dynInstChk",Xt=Wt,Jt="_dfOpts",$t="_unknown_",Zt="__proto__",Yt="_dyn"+Zt,er="__dynProto$Gbl",nr="_dynInstProto",tr="useBaseInst",rr="setInstFuncs",ir=Object,or=ir.getPrototypeOf,ar=ir.getOwnPropertyNames,ur=function(){var e;return typeof globalThis!==jt&&(e=globalThis),e||typeof self===jt||(e=self),e||typeof window===jt||(e=window),e||typeof t.g===jt||(e=t.g),e||{}}(),sr=ur[er]||(ur[er]={o:(Pt={},Pt[rr]=!0,Pt[tr]=!0,Pt),n:1e3});function cr(e,n){return e&&ir[qt].hasOwnProperty.call(e,n)}function lr(e){return e&&(e===ir[qt]||e===Array[qt])}function fr(e){return lr(e)||e===Function[qt]}function dr(e){var n;if(e){if(or)return or(e);var t=e[Zt]||e[qt]||(e[Kt]?e[Kt][qt]:null);n=e[Yt]||t,cr(e,Yt)||(delete e[nr],n=e[Yt]=e[nr]||e[Yt],e[nr]=t)}return n}function vr(e,n){var t=[];if(ar)t=ar(e);else for(var r in e)"string"==typeof r&&cr(e,r)&&t.push(r);if(t&&t.length>0)for(var i=0;i<t.length;i++)n(t[i])}function pr(e,n,t){return n!==Kt&&typeof e[n]===Ht&&(t||cr(e,n))&&n!==Zt&&n!==qt}function hr(e){throw new TypeError("DynamicProto: "+e)}function gr(){return Object.create?function(e){var n=Object.create;return n?n(null):{}}():{}}function yr(e,n){for(var t=e.length-1;t>=0;t--)if(e[t]===n)return!0;return!1}function mr(e,n){return cr(e,qt)?e.name||n||$t:((e||{})[Kt]||{}).name||n||$t}function br(e,n,t,r){cr(e,qt)||hr("theClass is an invalid class definition.");var i=e[qt];(function(e,n){if(or){for(var t=[],r=dr(n);r&&!fr(r)&&!yr(t,r);){if(r===e)return!0;t.push(r),r=dr(r)}return!1}return!0})(i,n)||hr("["+mr(e)+"] not in hierarchy of ["+mr(n)+"]");var o=null;cr(i,Gt)?o=i[Gt]:(o="_dynCls$"+mr(e,"_")+"$"+sr.n,sr.n++,i[Gt]=o);var a=br[Jt],u=!!a[tr];u&&r&&void 0!==r[tr]&&(u=!!r[tr]);var s=function(e){var n=gr();return vr(e,(function(t){!n[t]&&pr(e,t,!1)&&(n[t]=e[t])})),n}(n),c=function(e,n,t,r){function i(e,n,t){var i=n[t];if(i[Qt]&&r){var o=e[Vt]||{};!1!==o[Xt]&&(i=(o[n[Gt]]||{})[t]||i)}return function(){return i.apply(e,arguments)}}var o=gr();vr(t,(function(e){o[e]=i(n,t,e)}));for(var a=dr(e),u=[];a&&!fr(a)&&!yr(u,a);)vr(a,(function(e){!o[e]&&pr(a,e,!or)&&(o[e]=i(n,a,e))})),u.push(a),a=dr(a);return o}(i,n,s,u);t(n,c);var l=!!or&&!!a[rr];l&&r&&(l=!!r[rr]),function(e,n,t,r,i){if(!lr(e)){var o=t[Vt]=t[Vt]||gr();if(!lr(o)){var a=o[n]=o[n]||gr();!1!==o[Xt]&&(o[Xt]=!!i),lr(a)||vr(t,(function(n){pr(t,n,!1)&&t[n]!==r[n]&&(a[n]=t[n],delete t[n],(!cr(e,n)||e[n]&&!e[n][Qt])&&(e[n]=function(e,n){var t=function(){var r=function(e,n,t,r){var i=null;if(e&&cr(t,Gt)){var o=e[Vt]||gr();if((i=(o[t[Gt]]||gr())[n])||hr("Missing ["+n+"] "+Ht),!i[Wt]&&!1!==o[Xt]){for(var a=!cr(e,n),u=dr(e),s=[];a&&u&&!fr(u)&&!yr(s,u);){var c=u[n];if(c){a=c===r;break}s.push(u),u=dr(u)}try{a&&(e[n]=i),i[Wt]=1}catch(e){o[Xt]=!1}}}return i}(this,n,e,t)||function(e,n,t){var r=n[e];return r===t&&(r=dr(n)[e]),typeof r!==Ht&&hr("["+e+"] is not a "+Ht),r}(n,e,t);return r.apply(this,arguments)};return t[Qt]=1,t}(e,n)))}))}}}(i,o,n,s,!1!==l)}br[Jt]=sr.o;var Tr="window",Cr="document",wr="navigator",Sr="location",Er="JSON",Pr="crypto",kr="msCrypto",Or="msie",_r="trident/",Ar="XMLHttpRequest",Ir=null,xr=null,Nr=!1,Dr=null,Lr=null;function Mr(e,n){var t=!1;if(e){try{if(!(t=n in e)){var r=e[G];r&&(t=n in r)}}catch(e){}if(!t)try{t=!Vn((new e)[n])}catch(e){}}return t}function Fr(e){var n=te();return n&&n[e]?n[e]:e===Tr&&Ur()?window:null}function Ur(){return Boolean(typeof window===V&&window)}function Rr(){return Ur()?window:Fr(Tr)}function zr(){return function(){return Boolean(typeof document===V&&document)}()?document:Fr(Cr)}function Br(){return Boolean(typeof navigator===V&&navigator)}function jr(){return Br()?navigator:Fr(wr)}function Kr(e){if(e&&Nr){var n=Fr("__mockLocation");if(n)return n}return typeof location===V&&location?location:Fr(Sr)}function qr(){return Boolean(typeof JSON===V&&JSON||null!==Fr(Er))}function Hr(){return qr()?JSON||Fr(Er):null}function Vr(){var e=jr();return!(!e||!e.product)&&"ReactNative"===e.product}function Qr(){var e=jr();if(e&&(e[ze]!==xr||null===Ir)){var n=((xr=e[ze])||an)[Ge]();Ir=et(n,Or)||et(n,_r)}return Ir}function Gr(e){var n=Object[G].toString[We](e),t=an;return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[ae]+"'":qr()&&(t=Hr().stringify(e)),n+t}function Wr(){return null===Lr&&(Lr=Br()&&Boolean(jr().sendBeacon)),Lr}function Xr(e){var n=!1;try{n=!!Fr("fetch");var t=Fr("Request");n&&e&&t&&(n=Mr(t,"keepalive"))}catch(e){}return n}function Jr(){return null===Dr&&(Dr=typeof XDomainRequest!==Q)&&$r()&&(Dr=Dr&&!Mr(Fr(Ar),"withCredentials")),Dr}function $r(){var e=!1;try{e=!!Fr(Ar)}catch(e){}return e}var Zr,Yr=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],ei=null;function ni(e,n){return function(){var t=arguments,r=ti(n);if(r){var i=r.listener;i&&i[e]&&i[e][He](i,t)}}}function ti(e){var n=ei;return n||!0===e.disableDbgExt||(n=ei||function(){var e=Fr("Microsoft");return e&&(ei=e.ApplicationInsights),ei}()),n?n.ChromeDbgExt:null}function ri(e){if(!Zr){Zr={};for(var n=0;n<Yr[pe];n++)Zr[Yr[n]]=ni(Yr[n],e)}return Zr}function ii(e){return e?'"'+e[Ve](/\"/g,an)+'"':an}function oi(e,n){var t=function(){return typeof console!==Q?console:Fr("console")}();if(t){var r="log";t[e]&&(r=e),Jn(t[r])&&t[r](n)}}var ai=function(){function e(e,n,t,r){void 0===t&&(t=!1);var i=this;i[Oe]=e,i[_e]=(t?"AI: ":"AI (Internal): ")+e;var o=an;qr()&&(o=Hr().stringify(r));var a=(n?" message:"+ii(n):an)+(r?" props:"+ii(o):an);i[_e]+=a}return e.dataType="MessageData",e}(),ui=function(){function e(n){this.identifier="DiagnosticLogger",this.queue=[];var t,r,i,o,a=0,u={};br(e,this,(function(e){function s(n,t){if(!function(){return a>=i}()){var o=!0,s="AITR_"+t[Oe];if(u[s]?o=!1:u[s]=!0,o&&(n<=r&&(e.queue[ce](t),a++,c(1===n?"error":"warn",t)),a===i)){var l="Internal events throttle limit per PageView reached for this app.",f=new ai(23,l,!1);e.queue[ce](f),1===n?e[mn](l):e[bn](l)}}}function c(e,t){var r=ti(n||{});r&&r[De]&&r[De](e,t)}!function(e){t=bt(e.loggingLevelConsole,0),r=bt(e.loggingLevelTelemetry,1),i=bt(e.maxMessageLimit,25),o=bt(e.enableDebug,bt(e[Qe],!1))}(n||{}),e.consoleLoggingLevel=function(){return t},e.telemetryLoggingLevel=function(){return r},e.maxInternalMessageLimit=function(){return i},e[Qe]=function(){return o},e.throwInternal=function(n,r,i,a,l){void 0===l&&(l=!1);var f=new ai(r,i,l,a);if(o)throw Gr(f);var d=1===n?mn:bn;if(Vn(f[_e]))c("throw"+(1===n?"Critical":"Warning"),f);else{if(l){var v=+f[Oe];!u[v]&&t>=n&&(e[d](f[_e]),u[v]=!0)}else t>=n&&e[d](f[_e]);s(n,f)}},e[bn]=function(e){oi("warn",e),c("warning",e)},e[mn]=function(e){oi("error",e),c("error",e)},e.resetInternalMessageCount=function(){a=0,u={}},e.logInternalMessage=s}))}return e.__ieDyn=1,e}();function si(e){return e||new ui}function ci(e,n,t,r,i,o){void 0===o&&(o=!1),si(e).throwInternal(n,t,r,i,o)}function li(e,n){si(e)[bn](n)}var fi="toGMTString",di="toUTCString",vi="cookie",pi="expires",hi="enabled",gi="isCookieUseDisabled",yi="disableCookiesUsage",mi="_ckMgr",bi=null,Ti=null,Ci=null,wi=zr(),Si={},Ei={};function Pi(e){return!e||e.isEnabled()}function ki(e,n){return!!(n&&e&&nt(e.ignoreCookies))&&-1!==e.ignoreCookies[Ue](n)}function Oi(e,n){var t,r=function(e){var n=e[Fe]=e[Fe]||{};if(yt(n,"domain",e.cookieDomain,Gn,Qn),yt(n,"path",e.cookiePath||"/",null,Qn),Qn(n[hi])){var t=void 0;Vn(e[gi])||(t=!e[gi]),Vn(e[yi])||(t=!e[yi]),n[hi]=t}return n}(e||Ei),i=r.path||"/",o=r.domain,a=!1!==r[hi],u=((t={isEnabled:function(){var e=a&&_i(n),t=Ei[mi];return e&&t&&u!==t&&(e=Pi(t)),e}})[je]=function(e){a=!1!==e},t.set=function(e,n,t,a,s){var c=!1;if(Pi(u)&&!function(e,n){return!!(n&&e&&nt(e.blockedCookies)&&-1!==e.blockedCookies[Ue](n))||ki(e,n)}(r,e)){var l={},f=ct(n||an),d=f[Ue](";");if(-1!==d&&(f=ct(n[Re](0,d)),l=Ai(n[Re](d+1))),yt(l,"domain",a||o,Tt,Vn),!Qn(t)){var v=Qr();if(Vn(l[pi])){var p=ht()+1e3*t;if(p>0){var h=new Date;h.setTime(p),yt(l,pi,Ii(h,v?fi:di)||Ii(h,v?fi:di)||an,Tt)}}v||yt(l,"max-age",an+t,null,Vn)}var g=Kr();g&&"https:"===g.protocol&&(yt(l,"secure",null,null,Vn),null===Ti&&(Ti=!function(e){return!(!tt(e)||!et(e,"CPU iPhone OS 12")&&!et(e,"iPad; CPU OS 12")&&!(et(e,"Macintosh; Intel Mac OS X 10_14")&&et(e,"Version/")&&et(e,"Safari"))&&(!et(e,"Macintosh; Intel Mac OS X 10_14")||!function(e,n){var t=!1;return e&&n&&!(t=e===n)&&(t=Ln?e[wn](n):function(e,n){var t=!1,r=n?n[pe]:0,i=e?e[pe]:0;if(r&&i&&i>=r&&!(t=e===n)){for(var o=i-1,a=r-1;a>=0;a--){if(e[o]!=n[a])return!1;o--}t=!0}return t}(e,n)),t}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!et(e,"Chrome/5")&&!et(e,"Chrome/6")&&(!et(e,"UnrealEngine")||et(e,"Chrome"))&&!et(e,"UCBrowser/12")&&!et(e,"UCBrowser/11"))}((jr()||{})[ze])),Ti&&yt(l,"SameSite","None",null,Vn)),yt(l,"path",s||i,null,Vn),(r.setCookie||Di)(e,xi(f,l)),c=!0}return c},t.get=function(e){var n=an;return Pi(u)&&!ki(r,e)&&(n=(r.getCookie||Ni)(e)),n},t.del=function(e,n){var t=!1;return Pi(u)&&(t=u.purge(e,n)),t},t.purge=function(e,t){var i,o=!1;if(_i(n)){var a=((i={}).path=t||"/",i[pi]="Thu, 01 Jan 1970 00:00:01 GMT",i);Qr()||(a["max-age"]="0"),(r.delCookie||Di)(e,xi(an,a)),o=!0}return o},t);return u[mi]=u,u}function _i(e){if(null===bi){bi=!1;try{bi=void 0!==(wi||{})[vi]}catch(n){ci(e,2,68,"Cannot access document.cookie - "+gt(n),{exception:Gr(n)})}}return bi}function Ai(e){var n={};return e&&e[pe]&&ut(ct(e)[Be](";"),(function(e){if(e=ct(e||an)){var t=e[Ue]("=");-1===t?n[e]=null:n[ct(e[Re](0,t))]=ct(e[Re](t+1))}})),n}function Ii(e,n){return Jn(e[n])?e[n]():null}function xi(e,n){var t=e||an;return Zn(n,(function(e,n){t+="; "+e+(Qn(n)?an:"="+n)})),t}function Ni(e){var n=an;if(wi){var t=wi[vi]||an;Ci!==t&&(Si=Ai(t),Ci=t),n=ct(Si[e]||an)}return n}function Di(e,n){wi&&(wi[vi]=e+"="+n)}var Li=4294967296,Mi=4294967295,Fi=!1,Ui=123456789,Ri=987654321;function zi(e){var n=0,t=function(){return Fr(Pr)}()||function(){return Fr(kr)}();return t&&t.getRandomValues&&(n=t.getRandomValues(new Uint32Array(1))[0]&Mi),0===n&&Qr()&&(Fi||function(){try{var e=2147483647&ht();!function(e){e<0&&(e>>>=0),Ui=123456789+e&Mi,Ri=987654321-e&Mi,Fi=!0}((Math.random()*Li^e)+e)}catch(e){}}(),n=function(e){var n=((Ri=36969*(65535&Ri)+(Ri>>16)&Mi)<<16)+(65535&(Ui=18e3*(65535&Ui)+(Ui>>16)&Mi))>>>0&Mi|0;return n>>>=0}()&Mi),0===n&&(n=Math.floor(Li*Math.random()|0)),e||(n>>>=0),n}var Bi=Y,ji="2.8.17",Ki="."+function(e){void 0===e&&(e=22);for(var n=zi()>>>0,t=0,r=an;r[pe]<e;)t++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n),n>>>=6,5===t&&(n=(zi()<<2&4294967295|3&n)>>>0,t=0);return r}(6),qi=0;function Hi(e){return 1===e[qe]||9===e[qe]||!+e[qe]}function Vi(e,n){return void 0===n&&(n=!1),$n(e+qi+++(n?"."+ji:an)+Ki)}function Qi(e){var n={id:Vi("_aiData-"+(e||an)+"."+ji),accept:function(e){return Hi(e)},get:function(e,t,r,i){var o=e[n.id];return o?o[$n(t)]:(i&&((o=function(e,n){var t=n[e.id];if(!t){t={};try{Hi(n)&&(function(e,n,t){if(Bi)try{return Bi(e,n,{value:t,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(n,e.id,t)||(n[e.id]=t))}catch(e){}}return t}(n,e))[$n(t)]=r),r)},kill:function(e,n){if(e&&e[n])try{delete e[n]}catch(e){}}};return n}var Gi="on",Wi="attachEvent",Xi="addEventListener",Ji="detachEvent",$i="removeEventListener",Zi="events",Yi="visibilitychange",eo="pagehide",no="pageshow",to="unload",ro="beforeunload",io=Vi("aiEvtPageHide"),oo=Vi("aiEvtPageShow"),ao=/\.[\.]+/g,uo=/[\.]+$/,so=1,co=Qi("events"),lo=/^([^.]*)(?:\.(.+)|)/;function fo(e){return e&&e[Ve]?e[Ve](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,an):e}function vo(e,n){var t;if(n){var r=an;nt(n)?(r=an,ut(n,(function(e){(e=fo(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=fo(n),r&&("."!==r[0]&&(r="."+r),e=(e||an)+r)}var i=lo.exec(e||an)||[];return(t={})[Xe]=i[1],t.ns=(i[2]||an).replace(ao,".").replace(uo,an)[Be](".").sort().join("."),t}function po(e,n,t){void 0===t&&(t=!0);var r=co.get(e,Zi,{},t),i=r[n];return i||(i=r[n]=[]),i}function ho(e,n,t,r){e&&n&&n[Xe]&&(e[$i]?e[$i](n[Xe],t,r):e[Ji]&&e[Ji](Gi+n[Xe],t))}function go(e,n,t,r){for(var i=n[pe];i--;){var o=n[i];o&&(t.ns&&t.ns!==o.evtName.ns||r&&!r(o)||(ho(e,o.evtName,o[Je],o.capture),n[Pe](i,1)))}}function yo(e,n){return n?vo("xx",nt(n)?[e].concat(n):[e,n]).ns[Be]("."):e}function mo(e,n,t,r,i){var o;void 0===i&&(i=!1);var a=!1;if(e)try{var u=vo(n,r);if(a=function(e,n,t,r){var i=!1;return e&&n&&n[Xe]&&t&&(e[Xi]?(e[Xi](n[Xe],t,r),i=!0):e[Wi]&&(e[Wi](Gi+n[Xe],t),i=!0)),i}(e,u,t,i),a&&co.accept(e)){var s=((o={guid:so++,evtName:u})[Je]=t,o.capture=i,o);po(e,u.type)[ce](s)}}catch(e){}return a}function bo(e,n,t,r,i){if(void 0===i&&(i=!1),e)try{var o=vo(n,r),a=!1;!function(e,n,t){if(n[Xe])go(e,po(e,n[Xe]),n,t);else{var r=co.get(e,Zi,{});Zn(r,(function(r,i){go(e,i,n,t)})),0===dt(r)[pe]&&co.kill(e,Zi)}}(e,o,(function(e){return!((!o.ns||t)&&e[Je]!==t||(a=!0,0))})),a||ho(e,o,t,i)}catch(e){}}function To(e,n,t,r){var i=!1;return n&&e&&e[pe]>0&&ut(e,(function(e){e&&(t&&-1!==st(t,e)||(i=function(e,n,t){var r=!1,i=Rr();i&&(r=mo(i,e,n,t),r=mo(i.body,e,n,t)||r);var o=zr();return o&&(r=mo(o,e,n,t)||r),r}(e,n,r)||i))})),i}function Co(e,n,t){e&&nt(e)&&ut(e,(function(e){e&&function(e,n,t){var r=Rr();r&&(bo(r,e,n,t),bo(r.body,e,n,t));var i=zr();i&&bo(i,e,n,t)}(e,n,t)}))}function wo(e,n,t){var r=yo(io,t),i=To([eo],e,n,r);return n&&-1!==st(n,Yi)||(i=To([Yi],(function(n){var t=zr();e&&t&&"hidden"===t.visibilityState&&e(n)}),n,r)||i),!i&&n&&(i=wo(e,null,t)),i}function So(e,n,t){var r=yo(oo,t),i=To([no],e,n,r);return!(i=To([Yi],(function(n){var t=zr();e&&t&&"visible"===t.visibilityState&&e(n)}),n,r)||i)&&n&&(i=So(e,null,t)),i}var Eo=function(){return function(e,n){var t=this;this.eventsProcessed=0,this.eventsSent=0,this.eventsDiscarded=0;var r=[],i=!1,o=!0,a={name:"DiagnosticLevel",processEvent:function(e){var n=e.eventFlags.diagnosticLevel;return i||10===n||110===n||120===n}},u={},s=function(){var e=function(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=an,r=0;r<4;r++)t+=n[15&(e=zi())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&zi())|0];return t[Ke](0,8)+t[Ke](9,4)+"4"+t[Ke](13,3)+i+t[Ke](16,3)+t[Ke](19,12)}();return e[Re](0,8)+"-"+e[Re](8,12)+"-"+e[Re](12,16)+"-"+e[Re](16,20)+"-"+e[Re](20)}();this.init=function(e){return Bt(u,!1)},this.begin=function(){return o=o&&Bt(u,!0)},this.getOneDSTelemetryEvent=function(e){return c(e,{eventType:1})},this.getOneDSCustomerContent=function(e){var n=e.telemetryProperties.customerContentVersion;if(n&&Math.floor(n)<=2&&1===e.telemetryProperties.customerContentType)return c(e,{eventType:2})};var c=function(e,n){if(o){var i=E(e);if(function(e,n){for(var t=function(t){var r=n[t];if(!r.processEvent(e))return l(2,1,(function(){return"".concat(e.eventName," suppressed by ").concat(r.name)})),{value:!1}},r=0;r<n.length;r++){var i=t(r);if("object"==typeof i)return i.value}return!0}(i,r)){var a=function(e){return e.timestamp?new Date(e.timestamp):new Date}(i).toISOString(),c={"Event.Name":i.eventName,"Event.Source":"OTelJS","Event.Time":{value:a,propertyType:9}};for(var f in t.eventsProcessed++,c["Event.Sequence"]={value:t.eventsProcessed,propertyType:4},c["Event.Id"]=s+"."+t.eventsProcessed,u)c[f]=u[f];if(!Nt(c,i.dataFields,!0,n.eventType))return void l(0,1,(function(){return"Dropping Event: "+i.eventName}));var d="custom";i.eventContract&&(i.eventContract.name&&(c["Event.Contract"]=i.eventContract.name,d+="."+i.eventContract.name.toLowerCase().replace(/\./g,"_")),Nt(c,i.eventContract.dataFields,!1,n.eventType));var v=function(e,n){return 2===n?"b22a201c3f1d41d28ccc399ba6cc9ca2-1972c77f-1f79-4283-a0f9-b4ddc4646f55-7121":e.telemetryProperties&&(1!==n||e.telemetryProperties.ariaTenantToken)?1===n?e.telemetryProperties.ariaTenantToken:void 0:void l(0,1,(function(){return"Missing Aria Token"}))}(i,n.eventType);if(!v)return;return{iKey:v,name:i.eventName,data:c,time:a,baseType:d,ext:{sdk:{seq:t.eventsProcessed}}}}}};this.addPreprocessor=function(e){r.push(e)},this.getOneDSPersistentDataFields=function(){return u},this.getPreprocessors=function(){return r};var f=function(e){Nt(u,e,!1,1)};this.addPersistentDataFields=f,this.setOptionalEventsEnabled=function(e){i=e},this.setFullEventsEnabled=this.setOptionalEventsEnabled,n.enableOptionalEvents&&(i=!0),f(e);var d=n.coreFields;if(d){f(F(d.app)),f(N(d.user)),f(U(d.session));var v=d.release;v&&f(function(e){var n=[];return O(n,"Release","AudienceGroup",e.audienceGroup,1),n}(v))}this.addPreprocessor(a)}}(),Po=((te()||{}).Symbol,(te()||{}).Reflect,function(e,n){return Po=X.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[W](t)&&(e[t]=n[t])},Po(e,n)});function ko(e,n){function t(){this.constructor=e}typeof n!==H&&null!==n&&re("Class extends value "+String(n)+" is not a constructor or null"),Po(e,n),e[G]=null===n?ie(n):(t[G]=n[G],new t)}function Oo(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var _o="ctx",Ao="ParentContextKey",Io="ChildrenContextKey",xo=function(){function e(n,t,r){var i,o=this,a=!1;o.start=ht(),o[ae]=n,o[Ae]=r,o[Ze]=function(){return!1},Jn(t)&&(a=vt(o,"payload",(function(){return!i&&Jn(t)&&(i=t(),t=null),i}))),o[Ye]=function(n){return n?n===e[Ao]||n===e[Io]?o[n]:(o[_o]||{})[n]:null},o[en]=function(n,t){n&&(n===e[Ao]?(o[n]||(o[Ze]=function(){return!0}),o[n]=t):n===e[Io]?o[n]=t:(o[_o]=o[_o]||{})[n]=t)},o[nn]=function(){var n=0,r=o[Ye](e[Io]);if(nt(r))for(var i=0;i<r[pe];i++){var u=r[i];u&&(n+=u[he])}o[he]=ht()-o.start,o.exTime=o[he]-n,o[nn]=function(){},!a&&Jn(t)&&(o.payload=t())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),No=function(){function e(n){this.ctx={},br(e,this,(function(e){e.create=function(e,n,t){return new xo(e,n,t)},e.fire=function(e){e&&(e[nn](),n&&Jn(n[yn])&&n[yn](e))},e[en]=function(n,t){n&&((e[_o]=e[_o]||{})[n]=t)},e[Ye]=function(n){return(e[_o]||{})[n]}}))}return e.__ieDyn=1,e}(),Do="CoreUtils.doPerf";function Lo(e,n,t,r,i){if(e){var o=e;if(o[Tn]&&(o=o[Tn]()),o){var a=void 0,u=o[Ye](Do);try{if(a=o.create(n(),r,i)){if(u&&a[en]&&(a[en](xo[Ao],u),u[Ye]&&u[en])){var s=u[Ye](xo[Io]);s||(s=[],u[en](xo[Io],s)),s[ce](a)}return o[en](Do,a),t(a)}}catch(e){a&&a[en]&&a[en]("exception",e)}finally{a&&o.fire(a),o[en](Do,u)}}}return t()}function Mo(e,n,t){return!(!e||e[pe]!==n||e===t||!e.match(/^[\da-f]*$/i))}var Fo=Qi("plugin");function Uo(e){return Fo.get(e,"state",{},!0)}function Ro(e,n){for(var t,r=[],i=null,o=e[Ne]();o;){var a=o[we]();a&&(i&&Jn(i[Le])&&Jn(a[dn])&&i[Le](a),(Jn(a[le])?a[le]():(t=Uo(a))[le])||r[ce](a),i=a,o=o[Ne]())}ut(r,(function(r){var i=e[sn]();r[oe](e.getCfg(),i,n,e[Ne]()),t=Uo(r),r[sn]||t[sn]||(t[sn]=i),t[le]=!0,delete t[ke]}))}function zo(e){return e.sort((function(e,n){var t=0;if(n){var r=Jn(n[dn]);Jn(e[dn])?t=r?e[vn]-n[vn]:1:r&&(t=-1)}else t=e?1:-1;return t}))}var Bo="TelemetryPluginChain",jo="_hasRun",Ko="_getTelCtx",qo=0;function Ho(e,n,t,r){var i=null,o=[];null!==r&&(i=r?function(e,n,t){for(;e;){if(e[we]()===t)return e;e=e[Ne]()}return Wo([t],n[fe]||{},n)}(e,t,r):e);var a={_next:function(){var e=i;if(i=e?e[Ne]():null,!e){var n=o;n&&n[pe]>0&&(ut(n,(function(e){try{e.func[We](e.self,e.args)}catch(e){ci(t[ve],2,73,"Unexpected Exception during onComplete - "+Gr(e))}})),o=[])}return e},ctx:{core:function(){return t},diagLog:function(){return function(e,n){return(e||{})[ve]||new ui(n)}(t,n)},getCfg:function(){return n},getExtCfg:u,getConfig:function(e,t,r){void 0===r&&(r=!1);var i,o=u(e,null);return o&&!Qn(o[t])?i=o[t]:n&&!Qn(n[t])&&(i=n[t]),Qn(i)?r:i},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var n;n=a._next();){var t=n[we]();t&&e(t)}},onComplete:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];e&&o[ce]({func:e,self:Vn(n)?a.ctx:n,args:t})}}};function u(e,t,r){var i;if(void 0===t&&(t={}),void 0===r&&(r=0),n){var o=n[fn];o&&e&&(i=o[e])}if(i){if(Xn(t)&&0!==r){var a=Et(!0,t,i);n&&2===r&&Zn(t,(function(e){if(Qn(a[e])){var t=n[e];Qn(t)||(a[e]=t)}})),i=a}}else i=t;return i}return a}function Vo(e,n,t,r){var i=Ho(e,n,t,r),o=i.ctx;return o[ge]=function(e){var n=i._next();return n&&n[dn](e,o),!n},o[Me]=function(e,r){return void 0===e&&(e=null),nt(e)&&(e=Wo(e,n,t,r)),Vo(e||o[Ne](),n,t,r)},o}function Qo(e,n,t){var r=n[fe]||{},i=Ho(e,r,n,t),o=i.ctx;return o[ge]=function(e){var n=i._next();return n&&n.unload(o,e),!n},o[Me]=function(e,t){return void 0===e&&(e=null),nt(e)&&(e=Wo(e,r,n,t)),Qo(e||o[Ne](),n,t)},o}function Go(e,n,t){var r=n[fe]||{},i=Ho(e,r,n,t).ctx;return i[ge]=function(e){return i.iterate((function(n){Jn(n[xe])&&n[xe](i,e)}))},i[Me]=function(e,t){return void 0===e&&(e=null),nt(e)&&(e=Wo(e,r,n,t)),Go(e||i[Ne](),n,t)},i}function Wo(e,n,t,r){var i=null,o=!r;if(nt(e)&&e[pe]>0){var a=null;ut(e,(function(e){if(o||r!==e||(o=!0),o&&e&&Jn(e[dn])){var u=function(e,n,t){var r,i=null,o=Jn(e[dn]),a=Jn(e[Le]),u={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){s(c=c||function(){var r;return e&&Jn(e[Ko])&&(r=e[Ko]()),r||(r=Vo(u,n,t)),r}(),(function(n){if(!e||!o)return!1;var t=Uo(e);return!t[ke]&&!t[ln]&&(a&&e[Le](i),e[dn](r,n),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[ge](r)},unload:function(n,t){s(n,(function(){var r=!1;if(e){var i=Uo(e),o=e[sn]||i[sn];!e||o&&o!==n.core()||i[ke]||(i[sn]=null,i[ke]=!0,i[le]=!1,e[ke]&&!0===e[ke](n,t)&&(r=!0))}return r}),"unload",(function(){}),t[Ae])||n[ge](t)},update:function(n,t){s(n,(function(){var r=!1;if(e){var i=Uo(e),o=e[sn]||i[sn];!e||o&&o!==n.core()||i[ke]||e[xe]&&!0===e[xe](n,t)&&(r=!0)}return r}),"update",(function(){}),!1)||n[ge](t)},_id:r=e?e[se]+"-"+e[vn]+"-"+qo++:"Unknown-0-"+qo++,_setNext:function(e){i=e}};function s(n,t,o,a,u){var s=!1,c=e?e[se]:Bo,l=n[jo];return l||(l=n[jo]={}),n.setNext(i),e&&Lo(n[sn](),(function(){return c+":"+o}),(function(){l[r]=!0;try{var e=i?i._id:an;e&&(l[e]=!1),s=t(n)}catch(e){var a=!i||l[i._id];a&&(s=!0),i&&a||ci(n[De](),1,73,"Plugin ["+c+"] failed during "+o+" - "+Gr(e)+", run flags: "+Gr(l))}}),a,u),s}return pt(u)}(e,n,t);i||(i=u),a&&a._setNext(u),a=u}}))}return r&&!i?Wo([r],n,t):i}function Xo(e,n,t){n&&nt(n)&&n[pe]>0&&(ut(n=n.sort((function(e,n){return e[vn]-n[vn]})),(function(e){e[vn]<500&&Ct("Channel has invalid priority - "+e[se])})),e[ce]({queue:pt(n),chain:Wo(n,t[fe],t)}))}function Jo(){var e=[];return{add:function(n){n&&e[ce](n)},run:function(n,t){ut(e,(function(e){try{e(n,t)}catch(e){ci(n[De](),2,73,"Unexpected error calling unload handler - "+Gr(e))}})),e=[]}}}var $o="getPlugin",Zo=function(){function e(){var n,t,r,i,o,a=this;function u(e){void 0===e&&(e=null);var n=e;if(!n){var i=t||Vo(null,{},a[sn]);n=r&&r[$o]?i[Me](null,r[$o]):i[Me](null,r)}return n}function s(e,n,i){e&&yt(e,fn,[],null,Qn),!i&&n&&(i=n[ye]()[Ne]());var o=r;r&&r[$o]&&(o=r[$o]()),a[sn]=n,t=Vo(i,e,n,o)}function c(){n=!1,a[sn]=null,t=null,r=null,o=[],i=Jo()}c(),br(e,a,(function(e){e[oe]=function(e,t,r,i){s(e,t,i),n=!0},e[ke]=function(n,t){var a,u=e[sn];if(u&&(!n||u===n[sn]())){var s,l=!1,f=n||Qo(null,u,r&&r[$o]?r[$o]():r),d=t||((a={reason:0})[Ae]=!1,a);return e[Ie]&&!0===e[Ie](f,d,v)?s=!0:v(),s}function v(){if(!l){l=!0,i.run(f,t);var e=o;o=[],ut(e,(function(e){e.rm()})),!0===s&&f[ge](d),c()}}},e[xe]=function(n,t){var i=e[sn];if(i&&(!n||i===n[sn]())){var o,a=!1,u=n||Go(null,i,r&&r[$o]?r[$o]():r),c=t||{reason:0};return e._doUpdate&&!0===e._doUpdate(u,c,l)?o=!0:l(),o}function l(){a||(a=!0,s(u.getCfg(),u.core(),u[Ne]()))}},e._addHook=function(e){e&&(nt(e)?o=o.concat(e):o[ce](e))},wt(e,"_addUnloadCb",(function(){return i}),"add")})),a[De]=function(e){return u(e)[De]()},a[le]=function(){return n},a.setInitialized=function(e){n=e},a[Le]=function(e){r=e},a[ge]=function(e,n){n?n[ge](e):r&&Jn(r[dn])&&r[dn](e,null)},a._getTelCtx=u}return e.__ieDyn=1,e}(),Yo=function(e){function n(){var t,r,i=e.call(this)||this;function o(){t=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,o(),br(n,i,(function(e,n){e.addTelemetryInitializer=function(e){var n={id:t++,fn:e};return r[ce](n),{remove:function(){ut(r,(function(e,t){if(e.id===n.id)return r[Pe](t,1),-1}))}}},e[dn]=function(n,t){for(var i=!1,o=r[pe],a=0;a<o;++a){var u=r[a];if(u)try{if(!1===u.fn[He](null,[n])){i=!0;break}}catch(e){ci(t[De](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+gt(e),{exception:Gr(e)},!0)}}i||e[ge](n,t)},e[Ie]=function(){o()}})),i}return ko(n,e),n.__ieDyn=1,n}(Zo),ea="Plugins must provide initialize method",na="_notificationManager",ta="SDK is still unloading...",ra={loggingLevelConsole:1};function ia(e,n){return new No(n)}function oa(e,n){var t=!1;return ut(n,(function(n){if(n===e)return t=!0,-1})),t}var aa=function(){function e(){var n,t,r,i,o,a,u,s,c,l,f,d,v,p,h,g,y,m,b,T,C=0,w=!1;br(e,this,(function(e){function S(t){if(!C&&!w&&(t||e[ve]&&e[ve].queue[pe]>0)){var r=bt(n.diagnosticLogInterval);r&&r>0||(r=1e4),C=setInterval((function(){clearInterval(C),C=0,I()}),r)}return C}function E(){t=!1,n=Et(!0,{},ra),e[fe]=n,e[ve]=new ui(n),e[Ee]=[],h=new Yo,r=[],i=null,o=null,a=null,u=null,s=null,l=null,c=[],f=null,d=null,v=null,p=!1,g=null,y=Vi("AIBaseCore",!0),m=Jo(),T=null}function P(){var t=Vo(_(),n,e);return t[Ce](S),t}function k(t){var r=function(e,n,t){var r,i=[],o={};return ut(t,(function(n){(Qn(n)||Qn(n[oe]))&&Ct(ea);var t=n[vn],r=n[se];n&&t&&(Qn(o[t])?o[t]=r:li(e,"Two extensions have same priority #"+t+" - "+o[t]+", "+r)),(!t||t<500)&&i[ce](n)})),(r={all:t})[sn]=i,r}(e[ve],0,c);l=r[sn],s=null;var i=r.all;if(v=pt(function(e,n,t){var r=[];if(e&&ut(e,(function(e){return Xo(r,e,t)})),n){var i=[];ut(n,(function(e){e[vn]>500&&i[ce](e)})),Xo(r,i,t)}return r}(d,i,e)),f){var o=st(i,f);-1!==o&&i[Pe](o,1),-1!==(o=st(l,f))&&l[Pe](o,1),f._setQueue(v)}else f=function(e,n){function t(){return Vo(null,n[fe],n,null)}function r(e,n,t,r){var i=e?e[pe]+1:1;function o(){0==--i&&(r&&r(),r=null)}i>0&&ut(e,(function(e){if(e&&e.queue[pe]>0){var r=e.chain,a=n[Me](r);a[Ce](o),t(a)}else i--})),o()}var i=!1,o={identifier:"ChannelControllerPlugin",priority:500,initialize:function(n,t,r,o){i=!0,ut(e,(function(e){e&&e.queue[pe]>0&&Ro(Vo(e.chain,n,t),r)}))},isInitialized:function(){return i},processTelemetry:function(n,i){r(e,i||t(),(function(e){e[ge](n)}),(function(){i[ge](n)}))},update:function(n,t){var i=t||{reason:0};return r(e,n,(function(e){e[ge](i)}),(function(){n[ge](i)})),!0},pause:function(){r(e,t(),(function(e){e.iterate((function(e){e.pause&&e.pause()}))}),null)},resume:function(){r(e,t(),(function(e){e.iterate((function(e){e.resume&&e.resume()}))}),null)},teardown:function(n,t){var o=t||{reason:0,isAsync:!1};return r(e,n,(function(e){e[ge](o)}),(function(){n[ge](o),i=!1})),!0},getChannel:function(n){var t=null;return e&&e[pe]>0&&ut(e,(function(e){if(e&&e.queue[pe]>0&&(ut(e.queue,(function(e){if(e[se]===n)return t=e,-1})),t))return-1})),t},flush:function(n,i,o,a){var u=1,s=!1,c=null;function l(){u--,s&&0===u&&(c&&(clearTimeout(c),c=null),i&&i(s),i=null)}return a=a||5e3,r(e,t(),(function(e){e.iterate((function(e){if(e[Se]){u++;var t=!1;e[Se](n,(function(){t=!0,l()}),o)||t||(n&&null==c?c=setTimeout((function(){c=null,l()}),a):l())}}))}),(function(){s=!0,l()})),!0},_setQueue:function(n){e=n}};return o}(v,e);i[ce](f),l[ce](f),e[Ee]=zo(i),f[oe](n,e,i),Ro(P(),i),e[Ee]=pt(zo(l||[])).slice(),t&&function(n){var t=Go(_(),e);t[Ce](S),e._updateHook&&!0===e._updateHook(t,n)||t[ge](n)}(t)}function O(n){var t,r=null,i=null;return ut(e[Ee],(function(e){if(e[se]===n&&e!==f&&e!==h)return i=e,-1})),!i&&f&&(i=f.getChannel(n)),i&&((t={plugin:i})[je]=function(e){Uo(i)[ln]=!e},t.isEnabled=function(){var e=Uo(i);return!e[ke]&&!e[ln]},t.remove=function(e,n){var t;void 0===e&&(e=!0);var r=[i],o=((t={reason:1})[Ae]=e,t);A(r,o,(function(e){e&&k({reason:32,removed:r}),n&&n(e)}))},r=t),r}function _(){if(!s){var t=(l||[]).slice();-1===st(t,h)&&t[ce](h),s=Wo(zo(t),n,e)}return s}function A(t,r,i){if(t&&t[pe]>0){var o=Qo(Wo(t,n,e),e);o[Ce]((function(){var e=!1,n=[];ut(c,(function(r,i){oa(r,t)?e=!0:n[ce](r)})),c=n;var r=[];d&&(ut(d,(function(n,i){var o=[];ut(n,(function(n){oa(n,t)?e=!0:o[ce](n)})),r[ce](o)})),d=r),i&&i(e),S()})),o[ge](r)}else i(!1)}function I(){if(e[ve]&&e[ve].queue){var t=e[ve].queue.slice(0);e[ve].queue[pe]=0,ut(t,(function(t){var r,i=((r={})[ae]=g||"InternalMessageId: "+t[Oe],r.iKey=bt(n[de]),r.time=at(new Date),r.baseType=ai.dataType,r.baseData={message:t[_e]},r);e.track(i)}))}}function x(e,n,t,r){return f?f[Se](e,n,t||6,r):(n&&n(!1),!0)}function N(n){var t=e[ve];t?(ci(t,2,73,n),S()):Ct(n)}E(),e[le]=function(){return t},e[oe]=function(r,o,u,s){p&&Ct(ta),e[le]()&&Ct("Core should not be initialized more than once"),n=r||{},e[fe]=n,Qn(r[de])&&Ct("Please provide instrumentation key"),i=s,e[na]=s,function(){var e=bt(n.disableDbgExt);!0===e&&b&&(i[be](b),b=null),i&&!b&&!0!==e&&(b=ri(n),i[me](b))}(),function(){var e=bt(n.enablePerfMgr);!e&&a&&(a=null),e&&mt(n,cn,ia)}(),function(){mt(n,fn,{}).NotificationManager=i}(),u&&(e[ve]=u);var l=mt(n,"extensions",[]);(c=[])[ce].apply(c,Oo(Oo([],o),l)),d=mt(n,un,[]),k(null),v&&0!==v[pe]||Ct("No "+un+" available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return v&&ut(v,(function(n){e[ce](n.queue)})),pt(e)},e.track=function(t){t.iKey=t.iKey||n[de],t[he]=t[he]||at(new Date),t.ver=t.ver||"4.0",!p&&e[le]()?P()[ge](t):r[ce](t)},e[ye]=P,e[ue]=function(){return i||(i=function(){var e;return ie(((e={})[me]=function(e){},e[be]=function(e){},e[pn]=function(e){},e[hn]=function(e,n){},e[gn]=function(e,n){},e))}(),e[na]=i),i},e[me]=function(e){i&&i[me](e)},e[be]=function(e){i&&i[be](e)},e.getCookieMgr=function(){return u||(u=Oi(n,e[ve])),u},e.setCookieMgr=function(e){u=e},e[Tn]=function(){if(!o&&!a&&bt(n.enablePerfMgr)){var t=bt(n[cn]);Jn(t)&&(a=t(e,e[ue]()))}return o||a||function(){return null}()},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return r[pe]},e.releaseQueue=function(){if(t&&r[pe]>0){var e=r;r=[],ut(e,(function(e){P()[ge](e)}))}},e.pollInternalLogs=function(e){return g=e||null,w=!1,C&&(clearInterval(C),C=null),S(!0)},e[Te]=function(){w=!0,C&&(clearInterval(C),C=0,I())},function(e,n,t,r){e&&n&&Xn(e)&&nt(t)&&ut(t,(function(t){tt(t)&&wt(e,t,n,t,undefined)}))}(e,(function(){return h}),["addTelemetryInitializer"]),e.unload=function(n,r,i){var o;void 0===n&&(n=!0),t||Ct("SDK is not initialized"),p&&Ct(ta);var a=((o={reason:50})[Ae]=n,o.flushComplete=!1,o),u=Qo(_(),e);function s(n){a.flushComplete=n,p=!0,m.run(u,a),e[Te](),u[ge](a)}u[Ce]((function(){E(),r&&r(a)}),e),I(),x(n,s,6,i)||s(!1)},e[we]=O,e.addPlugin=function(e,n,t,r){if(!e)return r&&r(!1),void N(ea);var i=O(e[se]);if(i&&!n)return r&&r(!1),void N("Plugin ["+e[se]+"] is already loaded!");var o={reason:16};function a(n){c[ce](e),o.added=[e],k(o),r&&r(!0)}if(i){var u=[i.plugin];A(u,{reason:2,isAsync:!!t},(function(e){e?(o.removed=u,o.reason|=32,a()):r&&r(!1)}))}else a()},e.evtNamespace=function(){return y},e[Se]=x,e.getTraceCtx=function(e){return T||(T=function(e){var n={};return{getName:function(){return n[ae]},setName:function(e){n[ae]=e},getTraceId:function(){return n[tn]},setTraceId:function(e){(function(e){return Mo(e,32,"00000000000000000000000000000000")})(e)&&(n[tn]=e)},getSpanId:function(){return n[rn]},setSpanId:function(e){(function(e){return Mo(e,16,"0000000000000000")})(e)&&(n[rn]=e)},getTraceFlags:function(){return n[on]},setTraceFlags:function(e){n[on]=e}}}()),T},e.setTraceCtx=function(e){T=e||null},wt(e,"addUnloadCb",(function(){return m}),"add")}))}return e.__ieDyn=1,e}();function ua(e,n,t,r){ut(e,(function(e){if(e&&e[n])if(t)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var sa,ca=function(){function e(n){this.listeners=[];var t=!!(n||{}).perfEvtsSendAll;br(e,this,(function(e){e[me]=function(n){e.listeners[ce](n)},e[be]=function(n){for(var t=st(e[$e],n);t>-1;)e.listeners[Pe](t,1),t=st(e[$e],n)},e[pn]=function(n){ua(e[$e],pn,!0,(function(e){e[pn](n)}))},e[hn]=function(n,t){ua(e[$e],hn,!0,(function(e){e[hn](n,t)}))},e[gn]=function(n,t){ua(e[$e],gn,t,(function(e){e[gn](n,t)}))},e[yn]=function(n){n&&(!t&&n[Ze]()||ua(e[$e],yn,!1,(function(e){n[Ae]?setTimeout((function(){return e[yn](n)}),0):e[yn](n)})))}}))}return e.__ieDyn=1,e}(),la=function(e){function n(){var t=e.call(this)||this;return br(n,t,(function(e,n){function t(n){var t=e[ue]();t&&t[hn]([n],2)}e[oe]=function(e,t,r,i){n[oe](e,t,r||new ui(e),i||new ca(e))},e.track=function(r){Lo(e[Tn](),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(t(r),Ct("Invalid telemetry item")),function(e){Qn(e[ae])&&(t(e),Ct("telemetry name required"))}(r),n.track(r)}),(function(){return{item:r}}),!r.sync)}})),t}return ko(n,e),n.__ieDyn=1,n}(aa),fa="",da="version",va="properties",pa="1DS-Web-JS-3.2.16",ha="withCredentials",ga=((sa={})[0]=0,sa[2]=6,sa[1]=1,sa[3]=7,sa[4098]=6,sa[4097]=1,sa[4099]=7,sa);function ya(e){return!(e===fa||Qn(e))}function ma(e,n,t){var r=-1;if(!Vn(e))if(n>0&&(32===n?r=8192:n<=13&&(r=n<<5)),function(e){return e>=0&&e<=9}(t))-1===r&&(r=0),r|=t;else{var i=ga[wa(e)]||-1;-1!==r&&-1!==i?r|=i:6===i&&(r=i)}return r}function ba(e,n,t,r,i){var o={},a=!1,u=0,s=arguments.length,c=arguments;for("[object Boolean]"===Object[G].toString.call(c[0])&&(a=c[0],u++);u<s;u++)Zn(c[u],(function(e,n){a&&n&&Xn(n)?nt(n)?(o[e]=o[e]||[],ut(n,(function(n,t){n&&Xn(n)?o[e][t]=ba(!0,o[e][t],n):o[e][t]=n}))):o[e]=ba(!0,o[e],n):o[e]=n}));return o}Boolean(zr()),Boolean(Rr());var Ta=function(){var e=function(){return Fr("performance")}();return e&&e.now?e.now():ht()};function Ca(e,n){var t=e;t.timings=t.timings||{},t.timings.processTelemetryStart=t.timings.processTelemetryStart||{},t.timings.processTelemetryStart[n]=Ta()}function wa(e){var n=0;if(null!=e){var t=typeof e;"string"===t?n=1:"number"===t?n=2:"boolean"===t?n=3:t===V&&(n=4,nt(e)?(n=4096,e.length>0&&(n|=wa(e[0]))):ee.call(e,"value")&&(n=8192|wa(e.value)))}return n}var Sa=function(e){function n(){var t=e.call(this)||this;return t.pluginVersionStringArr=[],br(n,t,(function(e,n){e.logger&&e.logger.queue||(e.logger=new ui({loggingLevelConsole:1})),e.initialize=function(t,r,i,o){Lo(e,(function(){return"AppInsightsCore.initialize"}),(function(){var a=e.pluginVersionStringArr;if(t){t.endpointUrl||(t.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var u=t.propertyStorageOverride;!u||u.getProperty&&u.setProperty||Ct("Invalid property storage override passed."),t.channels&&ut(t.channels,(function(e){e&&ut(e,(function(e){if(e.identifier&&e.version){var n=e.identifier+"="+e.version;a.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document||t.enableWParam?0:-1},r&&ut(r,(function(e){if(e&&e.identifier&&e.version){var n=e.identifier+"="+e.version;a.push(n)}})),e.pluginVersionString=a.join(";"),e.pluginVersionStringArr=a;try{n.initialize(t,r,i,o),e.pollInternalLogs("InternalLog")}catch(n){var s=e.logger,c=Gr(n);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),ci(s,1,514,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:t,extensions:r,logger:i,notificationManager:o}}))},e.track=function(t){Lo(e,(function(){return"AppInsightsCore.track"}),(function(){var r=t;if(r){r.timings=r.timings||{},r.timings.trackStart=Ta(),function(e){return!!(e&&rt(e)&&e>=1&&e<=4)}(r.latency)||(r.latency=1);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver=pa;var o=r.baseData=r.baseData||{};o[va]=o[va]||{};var a=o[va];a[da]=a[da]||e.pluginVersionString||fa}n.track(r)}),(function(){return{item:t}}),!t.sync)}})),t}return ko(n,e),n.__ieDyn=1,n}(la);const Ea=Sa;var Pa=function(e){var n={};return Zn({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},(function(e,t){n[e]=t,n[t]=e})),function(e){return In&&Zn(e,(function(e,n){(nt(n)||Xn(n))&&In(n)})),pt(e)}(n)}(),ka="REAL_TIME",Oa="",_a="POST",Aa="drop",Ia="requeue",xa="application/x-json-stream",Na="cache-control",Da="content-type",La="kill-duration",Ma="time-delta-millis",Fa="client-version",Ua="client-id",Ra="time-delta-to-apply-millis",za="upload-time",Ba="apikey",ja="AuthMsaDeviceTicket",Ka="AuthXToken",qa="msfpc",Ha="trace",Va="user";function Qa(e){var n=(e.ext||{}).intweb;return n&&ya(n[qa])?n[qa]:null}function Ga(e){for(var n=null,t=0;null===n&&t<e.length;t++)n=Qa(e[t]);return n}var Wa=function(){function e(n,t){var r=t?[].concat(t):[],i=this,o=Ga(r);i.iKey=function(){return n},i.Msfpc=function(){return o||Oa},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(e){return!!e&&(r.push(e),o||(o=Qa(e)),!0)},i.split=function(t,i){var a;if(t<r.length){var u=r.length-t;Qn(i)||(u=i<u?i:u),a=r.splice(t,u),o=Ga(r)}return new e(n,a)}}return e.create=function(n,t){return new e(n,t)},e}();const Xa=function(){function e(){var n=!0,t=!0,r=!0,i="use-collector-delta",o=!1;br(e,this,(function(e){e.allowRequestSending=function(){return n},e.firstRequestSent=function(){r&&(r=!1,o||(n=!1))},e.shouldAddClockSkewHeaders=function(){return t},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){o||(e?(i=e,t=!0,o=!0):t=!1,n=!0)}}))}return e.__ieDyn=1,e}(),Ja=function(){function e(){var n={};br(e,this,(function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{var r=function(e){var n=[];return e&&ut(e,(function(e){n.push(ct(e))})),n}(e.split(","));if("this-request-only"===t)return r;for(var i=1e3*parseInt(t,10),o=0;o<r.length;++o)n[r[o]]=ht()+i}catch(e){return[]}return[]},e.isTenantKilled=function(e){var t=n,r=ct(e);return void 0!==t[r]&&t[r]>ht()||(delete t[r],!1)}}))}return e.__ieDyn=1,e}();function $a(e){var n,t=Math.floor(1200*Math.random())+2400;return n=Math.pow(2,e)*t,Math.min(n,6e5)}var Za,Ya=2e6,eu=Math.min(Ya,65e3),nu="metadata",tu="f",ru=/\./,iu=function(){function e(n,t,r,i){var o="data",a="baseData",u=!!i,s=t,c={};br(e,this,(function(e){function t(e,n,i,o,a,l,f){Zn(e,(function(e,d){var v=null;if(d||ya(d)){var p=i,h=e,g=a,y=n;if(u&&!o&&ru.test(e)){var m=e.split("."),b=m.length;if(b>1){g&&(g=g.slice());for(var T=0;T<b-1;T++){var C=m[T];y=y[C]=y[C]||{},p+="."+C,g&&g.push(C)}h=m[b-1]}}var w=o&&function(e,n){var t=c[e];return void 0===t&&(e.length>=7&&(t=Yn(e,"ext.metadata")||Yn(e,"ext.web")),c[e]=t),t}(p);if(v=!w&&s&&s.handleField(p,h)?s.value(p,h,d,r):function(e,n,t){if(!n&&!ya(n)||"string"!=typeof e)return null;var r=typeof n;if("string"===r||"number"===r||"boolean"===r||nt(n))n={value:n};else if("object"!==r||ee.call(n,"value")){if(Qn(n.value)||n.value===fa||!tt(n.value)&&!rt(n.value)&&!it(n.value)&&!nt(n.value))return null}else n={value:t?JSON.stringify(n):n};if(nt(n.value)&&!function(e){return e.length>0}(n.value))return null;if(!Qn(n.kind)){if(nt(n.value)||!function(e){return 0===e||e>0&&e<=13||32===e}(n.kind))return null;n.value=n.value.toString()}return n}(h,d,r)){var S=v.value;if(y[h]=S,l&&l(g,h,v),f&&"object"==typeof S&&!nt(S)){var E=g;E&&(E=E.slice()).push(h),t(d,S,p+"."+h,o,E,l,f)}}}}))}e.createPayload=function(e,n,t,r,i,o){return{apiKeys:[],payloadBlob:Oa,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:n,isSync:t,isBeacon:r,sendType:o,sendReason:i}},e.appendPayload=function(t,r,i){var o=t&&r&&!t.overflow;return o&&Lo(n,(function(){return"Serializer:appendPayload"}),(function(){for(var n=r.events(),o=t.payloadBlob,a=t.numEvents,u=!1,s=[],c=[],l=t.isBeacon,f=l?65e3:3984588,d=l?eu:Ya,v=0,p=0;v<n.length;){var h=n[v];if(h){if(a>=i){t.overflow=r.split(v);break}var g=e.getEventBlob(h);if(g&&g.length<=d){var y=g.length;if(o.length+y>f){t.overflow=r.split(v);break}o&&(o+="\n"),o+=g,++p>20&&(o.substr(0,1),p=0),u=!0,a++}else g?s.push(h):c.push(h),n.splice(v,1),v--}v++}if(s&&s.length>0&&t.sizeExceed.push(Wa.create(r.iKey(),s)),c&&c.length>0&&t.failedEvts.push(Wa.create(r.iKey(),c)),u){t.batches.push(r),t.payloadBlob=o,t.numEvents=a;var m=r.iKey();-1===st(t.apiKeys,m)&&t.apiKeys.push(m)}}),(function(){return{payload:t,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),o},e.getEventBlob=function(e){try{return Lo(n,(function(){return"Serializer.getEventBlob"}),(function(){var n={};n.name=e.name,n.time=e.time,n.ver=e.ver,n.iKey="o:"+function(e){if(e){var n=e.indexOf("-");if(n>-1)return e.substring(0,n)}return fa}(e.iKey);var r={},i=e.ext;i&&(n.ext=r,Zn(i,(function(e,n){t(n,r[e]={},"ext."+e,!0,null,null,!0)})));var u=n[o]={};u.baseType=e.baseType;var s=u[a]={};return t(e.baseData,s,a,!1,[a],(function(e,n,t){ou(r,e,n,t)}),!0),t(e.data,u,o,!1,[],(function(e,n,t){ou(r,e,n,t)}),!0),JSON.stringify(n)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}();function ou(e,n,t,r){if(r&&e){var i=ma(r.value,r.kind,r.propertyType);if(i>-1){var o=e[nu];o||(o=e[nu]={f:{}});var a=o[tu];if(a||(a=o[tu]={}),n)for(var u=0;u<n.length;u++){var s=n[u];a[s]||(a[s]={f:{}});var c=a[s][tu];c||(c=a[s][tu]={}),a=c}a=a[t]={},nt(r.value)?a.a={t:i}:a.t=i}}}var au="sendAttempt",uu="&NoResponseBody=true",su=((Za={})[1]=Ia,Za[100]=Ia,Za[200]="sent",Za[8004]=Aa,Za[8003]=Aa,Za),cu={},lu={};function fu(e,n,t){cu[e]=n,!1!==t&&(lu[n]=e)}function du(e){try{return e.responseText}catch(e){}return Oa}function vu(e,n){var t=!1;if(e&&n){var r=dt(e);if(r&&r.length>0)for(var i=n.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&Wn(n,a)&&a.toLowerCase()===i){t=!0;break}}}return t}function pu(e,n,t,r){n&&t&&t.length>0&&(r&&cu[n]?(e.hdrs[cu[n]]=t,e.useHdrs=!0):e.url+="&"+n+"="+t)}function hu(e,n){return n&&(rt(n)?e=[n].concat(e):nt(n)&&(e=n.concat(e))),e}fu(ja,ja,!1),fu(Fa,Fa),fu(Ua,"Client-Id"),fu(Ba,Ba),fu(Ra,Ra),fu(za,za),fu(Ka,Ka);var gu=function(){function e(n,t,r,i,o){this._responseHandlers=[];var a,u,s,c,l,f,d,v,p,h,g="?cors=true&"+Da.toLowerCase()+"="+xa,y=new Ja,m=!1,b=new Xa,T=!1,C=0,w=!0,S=[],E={},P=[],k=null,O=!1,_=!1,A=!1;br(e,this,(function(e){var I=!0;function x(e,n){for(var t=0,r=null,i=0;null==r&&i<e.length;)1===(t=e[i])?Jr()?r=N:$r()&&(r=L):2===t&&Xr(n)&&(!n||n&&!v)?r=D:T&&3===t&&Wr()&&(r=F),i++;return r?{_transport:t,_isSync:n,sendPOST:r}:null}function N(e,n,t){var r=new XDomainRequest;r.open(_a,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=du(r);M(n,200,{},e),W(e)},r.onerror=function(){M(n,400,{})},r.ontimeout=function(){M(n,500,{})},r.onprogress=function(){},t?r.send(e.data):o.set((function(){r.send(e.data)}),0)}function D(e,n,t){var r,i=e.urlString,a=!1,u=!1,s=((r={body:e.data,method:_a}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);t&&(s.keepalive=!0,2===e._sendReason&&(a=!0,h&&(i+=uu))),I&&(s.credentials="include"),e.headers&&dt(e.headers).length>0&&(s.headers=e.headers),fetch(i,s).then((function(e){var t={},r=Oa,i=e.headers;i&&i.forEach((function(e,n){t[n]=e})),e.body&&e.text().then((function(e){r=e})),u||(u=!0,M(n,e.status,t,r),W(r))})).catch((function(e){u||(u=!0,M(n,0,{}))})),a&&!u&&(u=!0,M(n,200,{})),!u&&e.timeout>0&&o.set((function(){u||(u=!0,M(n,500,{}))}),e.timeout)}function L(e,n,t){var r=e.urlString;function i(e,n,t){if(!e[t]&&n&&n.getResponseHeader){var r=n.getResponseHeader(t);r&&(e[t]=ct(r))}return e}function o(e,t){M(n,e.status,function(e){var n={};return e.getAllResponseHeaders?n=function(e){var n={};return tt(e)&&ut(ct(e).split(/[\r\n]+/),(function(e){if(e){var t=e.indexOf(": ");if(-1!==t){var r=ct(e.substring(0,t)).toLowerCase(),i=ct(e.substring(t+1));n[r]=i}else n[ct(e)]=1}})),n}(e.getAllResponseHeaders()):(n=i(n,e,Ma),n=i(n,e,La),n=i(n,e,"kill-duration-seconds")),n}(e),t)}t&&e.disableXhrSync&&(t=!1);var a=function(e,n,t,r,i,o){function a(e,n,t){try{e[n]=t}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var u=new XMLHttpRequest;return r&&a(u,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),t&&a(u,ha,t),u.open(e,n,!i),t&&a(u,ha,t),!i&&o&&a(u,"timeout",o),u}(_a,r,I,!0,t,e.timeout);Zn(e.headers,(function(e,n){a.setRequestHeader(e,n)})),a.onload=function(){var e=du(a);o(a,e),W(e)},a.onerror=function(){o(a)},a.ontimeout=function(){o(a)},a.send(e.data)}function M(e,n,t,r){try{e(n,t,r)}catch(e){ci(u,2,518,Gr(e))}}function F(e,n,t){var r=200,i=e._thePayload,o=e.urlString+(h?uu:Oa);try{var a=jr();if(!a.sendBeacon(o,e.data))if(i){var s=[];ut(i.batches,(function(e){if(s&&e&&e.count()>0){for(var n=e.events(),t=0;t<n.length;t++)if(!a.sendBeacon(o,k.getEventBlob(n[t]))){s.push(e.split(t));break}}else s.push(e.split(0))})),X(s,8003,i.sendType,!0)}else r=0}catch(e){li(u,"Failed to send telemetry using sendBeacon API. Ex:"+Gr(e)),r=0}finally{M(n,r,{},Oa)}}function U(e){return 2===e||3===e}function R(e){return _&&U(e)&&(e=2),e}function z(){return!m&&C<t}function B(){var e=P;return P=[],e}function j(e,n,t){var r=!1;return e&&e.length>0&&!m&&s[n]&&k&&(r=0!==n||z()&&(t>0||b.allowRequestSending())),r}function K(e){var n={};return e&&ut(e,(function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}})),n}function q(e,t,r,i,o){if(e&&0!==e.length)if(m)X(e,1,i);else{i=R(i);try{var a=e,l=0!==i;Lo(c,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var u=[],c=null,f=Ta(),d=s[i]||(l?s[1]:s[0]),v=d&&d._transport,h=p&&(_||U(i)||3===v||d._isSync&&2===v);j(e,i,t);){var g=e.shift();g&&g.count()>0&&(y.isTenantKilled(g.iKey())?u.push(g):(c=c||k.createPayload(t,r,l,h,o,i),k.appendPayload(c,g,n)?null!==c.overflow&&(e=[c.overflow].concat(e),c.overflow=null,V(c,f,Ta(),o),f=Ta(),c=null):(V(c,f,Ta(),o),f=Ta(),e=[g].concat(e),c=null)))}c&&V(c,f,Ta(),o),e.length>0&&(P=e.concat(P)),X(u,8004,i)}),(function(){return{batches:K(a),retryCount:t,isTeardown:r,isSynchronous:l,sendReason:o,useSendBeacon:U(i),sendType:i}}),!l)}catch(e){ci(u,2,48,"Unexpected Exception sending batch: "+Gr(e))}}}function H(e,n,t){e[n]=e[n]||{},e[n][a.identifier]=t}function V(n,t,i,o){if(n&&n.payloadBlob&&n.payloadBlob.length>0){var l=!!e.sendHook,p=s[n.sendType];!U(n.sendType)&&n.isBeacon&&2===n.sendReason&&(p=s[2]||s[3]||p);var h=A;(n.isBeacon||3===p._transport)&&(h=!1);var m=function(e,n){var t={url:g,hdrs:{},useHdrs:!1};n?(t.hdrs=ba(t.hdrs,E),t.useHdrs=dt(t.hdrs).length>0):Zn(E,(function(e,n){lu[e]?pu(t,lu[e],n,!1):(t.hdrs[e]=n,t.useHdrs=!0)})),pu(t,Ua,"NO_AUTH",n),pu(t,Fa,pa,n);var r=Oa;ut(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),pu(t,Ba,r,n),pu(t,za,ht().toString(),n);var i=function(e){for(var n=0;n<e.batches.length;n++){var t=e.batches[n].Msfpc();if(t)return encodeURIComponent(t)}return Oa}(e);if(ya(i)&&(t.url+="&ext.intweb.msfpc="+i),b.shouldAddClockSkewHeaders()&&pu(t,Ra,b.getClockSkewHeaderValue(),n),c.getWParam){var o=c.getWParam();o>=0&&(t.url+="&w="+o)}for(var a=0;a<S.length;a++)t.url+="&"+S[a].name+"="+S[a].value;return t}(n,h);h=h||m.useHdrs;var T=Ta();Lo(c,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var s=0;s<n.batches.length;s++)for(var g=n.batches[s].events(),S=0;S<g.length;S++){var E=g[S];if(O){var P=E.timings=E.timings||{};H(P,"sendEventStart",T),H(P,"serializationStart",t),H(P,"serializationCompleted",i)}E[au]>0?E[au]++:E[au]=1}X(n.batches,1e3+(o||0),n.sendType,!0);var k={data:n.payloadBlob,urlString:m.url,headers:m.hdrs,_thePayload:n,_sendReason:o,timeout:f,disableXhrSync:d,disableFetchKeepAlive:v};h&&(vu(k.headers,Na)||(k.headers[Na]="no-cache, no-store"),vu(k.headers,Da)||(k.headers[Da]=xa));var A=null;p&&(A=function(t){b.firstRequestSent();var i=function(t,i){!function(n,t,i,o){var u=9e3,s=null,c=!1,l=!1;try{var f=!0;if(typeof n!==Q){if(t){b.setClockSkew(t[Ma]);var d=t[La]||t["kill-duration-seconds"];ut(y.setKillSwitchTenants(t["kill-tokens"],d),(function(e){ut(i.batches,(function(n){if(n.iKey()===e){s=s||[];var t=n.split(0);i.numEvents-=t.count(),s.push(t)}}))}))}if(200==n||204==n)return void(u=200);(!function(e){return!(e>=300&&e<500&&408!=e&&429!=e||501==e||505==e)}(n)||i.numEvents<=0)&&(f=!1),u=9e3+n%1e3}if(f){u=100;var v=i.retryCnt;0===i.sendType&&(v<r?(c=!0,G((function(){0===i.sendType&&C--,q(i.batches,v+1,i.isTeardown,_?2:i.sendType,5)}),_,$a(v))):(l=!0,_&&(u=8001)))}}finally{c||(b.setClockSkew(),function(n,t,r,i){try{i&&a._backOffTransmission(),200===t&&(i||n.isSync||a._clearBackOff(),function(e){if(O){var n=Ta();ut(e,(function(e){e&&e.count()>0&&function(e,n){O&&ut(e,(function(e){H(e.timings=e.timings||{},"sendEventCompleted",n)}))}(e.events(),n)}))}}(n.batches)),X(n.batches,t,n.sendType,!0)}finally{0===n.sendType&&(C--,5!==r&&e.sendQueuedRequests(n.sendType,r))}}(i,u,o,l)),X(s,8004,i.sendType)}}(t,i,n,o)},s=n.isTeardown||n.isSync;try{p.sendPOST(t,i,s),e.sendListener&&e.sendListener(k,t,s,n.isBeacon)}catch(e){li(u,"Unexpected exception sending payload. Ex:"+Gr(e)),M(i,0,{})}}),Lo(c,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(A)if(0===n.sendType&&C++,l&&!n.isBeacon&&3!==p._transport){var t={data:k.data,urlString:k.urlString,headers:ba({},k.headers),timeout:k.timeout,disableXhrSync:k.disableXhrSync,disableFetchKeepAlive:k.disableFetchKeepAlive},r=!1;Lo(c,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(t,(function(e){r=!0,w||e._thePayload||(e._thePayload=e._thePayload||k._thePayload,e._sendReason=e._sendReason||k._sendReason),A(e)}),n.isSync||n.isTeardown)}catch(e){r||A(k)}}))}else A(k)}))}),(function(){return{thePayload:n,serializationStart:t,serializationCompleted:i,sendReason:o}}),n.isSync)}n.sizeExceed&&n.sizeExceed.length>0&&X(n.sizeExceed,8003,n.sendType),n.failedEvts&&n.failedEvts.length>0&&X(n.failedEvts,8002,n.sendType)}function G(e,n,t){n?e():o.set(e,t)}function W(n){var t=e._responseHandlers;try{for(var r=0;r<t.length;r++)try{t[r](n)}catch(e){ci(u,1,519,"Response handler failed: "+e)}if(n){var i=JSON.parse(n);ya(i.webResult)&&ya(i.webResult[qa])&&l.set("MSFPC",i.webResult[qa],31536e3)}}catch(e){}}function X(e,n,t,r){if(e&&e.length>0&&i){var o=i[function(e){var n=su[e];return ya(n)||(n="oth",e>=9e3&&e<=9999?n="rspFail":e>=8e3&&e<=8999?n=Aa:e>=1e3&&e<=1999&&(n="send")),n}(n)];if(o){var a=0!==t;Lo(c,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){G((function(){try{o.call(i,e,n,a,t)}catch(e){ci(u,1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:K(e),reason:n,isSync:a,sendSync:r,sendType:t}}),!a)}}}e.initialize=function(e,n,t,r,i){var o;i||(i={}),g=e+g,A=!!Vn(i.avoidOptions)||!i.avoidOptions,c=n,l=n.getCookieMgr(),O=!c.config.disableEventTimings;var y=!!c.config.enableCompoundKey;u=(a=t).diagLog();var m=i.valueSanitizer,b=i.stringifyObjects;Vn(i.enableCompoundKey)||(y=!!i.enableCompoundKey),f=i.xhrTimeout,d=!!i.disableXhrSync,v=!!i.disableFetchKeepAlive,h=!1!==i.addNoResponse,T=!Vr(),k=new iu(c,m,b,y),Qn(i.useSendBeacon)||(T=!!i.useSendBeacon);var C=r,S=i.alwaysUseXhrOverride?r:null,E=i.alwaysUseXhrOverride?r:null,P=[3,2];if(!r){w=!1;var _=Kr();_&&_.protocol&&"file:"===_.protocol.toLowerCase()&&(I=!1);var N=[];Vr()?(N=[2,1],P=[2,1,3]):N=[1,2,3],(r=x(N=hu(N,i.transports),!1))||li(u,"No available transport to send events"),C=x(N,!0)}S||(S=x(P=hu(P,i.unloadTransports),!0)),p=!w&&(T&&Wr()||!v&&Xr(!0)),(o={})[0]=r,o[1]=C||x([1,2,3],!0),o[2]=S||C||x([1],!0),o[3]=E||x([2,3],!0)||C||x([1],!0),s=o},e._getDbgPlgTargets=function(){return[s[0],y,k,s]},e.addQueryStringParameter=function(e,n){for(var t=0;t<S.length;t++)if(S[t].name===e)return void(S[t].value=n);S.push({name:e,value:n})},e.addHeader=function(e,n){E[e]=n},e.canSendRequest=function(){return z()&&b.allowRequestSending()},e.sendQueuedRequests=function(e,n){Vn(e)&&(e=0),_&&(e=R(e),n=2),j(P,e,0)&&q(B(),0,!1,e,n||0)},e.isCompletelyIdle=function(){return!m&&0===C&&0===P.length},e.setUnloading=function(e){_=e},e.addBatch=function(e){if(e&&e.count()>0){if(y.isTenantKilled(e.iKey()))return!1;P.push(e)}return!0},e.teardown=function(){P.length>0&&q(B(),0,!0,2,2)},e.pause=function(){m=!0},e.resume=function(){m=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,n,t){e&&e.count()>0&&(Qn(n)&&(n=1),_&&(n=R(n),t=2),q([e],0,!1,n,t||0))}}))}return e.__ieDyn=1,e}();function yu(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout(e,n,t)}function mu(e){clearTimeout(e)}function bu(e,n){return{set:e||yu,clear:n||mu}}var Tu="eventsDiscarded",Cu="overrideInstrumentationKey",wu="maxEventRetryAttempts",Su="maxUnloadEventRetryAttempts";const Eu=function(e){function n(){var t,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.16";var i,o,a,u,s,c,l,f=!1,d=[],v=null,p=!1,h=0,g=500,y=0,m=1e4,b={},T=ka,C=null,w=null,S=0,E=0,P={},k=-1,O=!0,_=!1,A=6,I=2;return br(n,r,(function(e,n){function r(e){"beforeunload"!==(e||Rr().event).type&&(_=!0,o.setUnloading(_)),z(2,2)}function x(e){_=!1,o.setUnloading(_)}function N(e,n){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext[Ha]&&delete e.ext[Ha],e.ext&&e.ext[Va]&&e.ext[Va].id&&delete e.ext[Va].id,O&&(e.ext=St(e.ext),e.baseData&&(e.baseData=St(e.baseData)),e.data&&(e.data=St(e.data))),e.sync)if(S||p)e.latency=3,e.sync=!1;else if(o)return O&&(e=St(e)),void o.sendSynchronousBatch(Wa.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var t=e.latency,r=y,i=m;4===t&&(r=h,i=g);var a=!1;if(r<i)a=!K(e,n);else{var u=1,s=20;4===t&&(u=4,s=1),a=!0,function(e,n,t,r){for(;t<=n;){var i=B(e,n,!0);if(i&&i.count()>0){var o=i.split(0,r),a=o.count();if(a>0)return 4===t?h-=a:y-=a,$(Tu,[o],Pa.QueueFull),!0}t++}return q(),!1}(e.iKey,e.latency,u,s)&&(a=!K(e,n))}a&&J(Tu,[e],Pa.QueueFull)}function D(e,n,t){var r=H(e,n,t);return o.sendQueuedRequests(n,t),r}function L(){return y>0}function M(){if(k>=0&&H(k,0,s)&&o.sendQueuedRequests(0,s),h>0&&!w&&!p){var e=b[T][2];e>=0&&(w=U((function(){w=null,D(4,0,1),M()}),e))}var n=b[T][1];!C&&!v&&n>=0&&!p&&(L()?C=U((function(){C=null,D(0===E?3:1,0,1),E++,E%=2,M()}),n):E=0)}function F(){t=null,f=!1,d=[],v=null,p=!1,h=0,g=500,y=0,m=1e4,b={},T=ka,C=null,w=null,S=0,E=0,i=null,P={},a=void 0,u=0,k=-1,s=null,O=!0,_=!1,A=6,I=2,c=null,l=bu(),o=new gu(500,2,1,{requeue:W,send:Z,sent:Y,drop:ee,rspFail:ne,oth:te},l),G(),function(){P[4]={batches:[],iKeyMap:{}},P[3]={batches:[],iKeyMap:{}},P[2]={batches:[],iKeyMap:{}},P[1]={batches:[],iKeyMap:{}}}(),re()}function U(e,n){0===n&&S&&(n=1);var t=1e3;return S&&(t=$a(S-1)),l.set(e,n*t)}function R(){return null!==C&&(l.clear(C),C=null,E=0,!0)}function z(e,n){R(),v&&(l.clear(v),v=null),p||D(1,e,n)}function B(e,n,t){var r=P[n];r||(r=P[n=1]);var i=r.iKeyMap[e];return!i&&t&&(i=Wa.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function j(n,t){o.canSendRequest()&&!S&&(a>0&&y>a&&(t=!0),t&&null==v&&e.flush(n,null,20))}function K(e,n){O&&(e=St(e));var t=e.latency,r=B(e.iKey,t,!0);return!!r.addEvent(e)&&(4!==t?(y++,n&&0===e.sendAttempt&&j(!e.sync,u>0&&r.count()>=u)):h++,!0)}function q(){for(var e=0,n=0,t=function(t){var r=P[t];r&&r.batches&&ut(r.batches,(function(r){4===t?e+=r.count():n+=r.count()}))},r=1;r<=4;r++)t(r);y=n,h=e}function H(n,t,r){var i=!1,a=0===t;return!a||o.canSendRequest()?Lo(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],t=4;t>=n;){var r=P[t];r&&r.batches&&r.batches.length>0&&(ut(r.batches,(function(n){o.addBatch(n)?i=i||n&&n.count()>0:e=e.concat(n.events()),4===t?h-=n.count():y-=n.count()})),r.batches=[],r.iKeyMap={}),t--}e.length>0&&J(Tu,e,Pa.KillSwitch),i&&k>=n&&(k=-1,s=0)}),(function(){return{latency:n,sendType:t,sendReason:r}}),!a):(k=k>=0?Math.min(k,n):n,s=Math.max(s,r)),i}function V(e,n){D(1,0,n),q(),Q((function(){e&&e(),d.length>0?v=U((function(){v=null,V(d.shift(),n)}),0):(v=null,M())}))}function Q(e){o.isCompletelyIdle()?e():v=U((function(){v=null,Q(e)}),.25)}function G(){(b={})[ka]=[2,1,0],b.NEAR_REAL_TIME=[6,3,0],b.BEST_EFFORT=[18,9,0]}function W(n,t){var r=[],i=A;_&&(i=I),ut(n,(function(n){n&&n.count()>0&&ut(n.events(),(function(n){n&&(n.sync&&(n.latency=4,n.sync=!1),n.sendAttempt<i?(Ca(n,e.identifier),N(n,!1)):r.push(n))}))})),r.length>0&&J(Tu,r,Pa.NonRetryableStatus),_&&z(2,2)}function X(n,t){var r=e._notificationManager||{},i=r[n];if(i)try{i.apply(r,t)}catch(t){ci(e.diagLog(),1,74,n+" notification failed: "+t)}}function J(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];n&&n.length>0&&X(e,[n].concat(t))}function $(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];n&&n.length>0&&ut(n,(function(n){n&&n.count()>0&&X(e,[n.events()].concat(t))}))}function Z(e,n,t){e&&e.length>0&&X("eventsSendRequest",[n>=1e3&&n<=1999?n-1e3:0,!0!==t])}function Y(e,n){$("eventsSent",e,n),M()}function ee(e,n){$(Tu,e,n>=8e3&&n<=8999?n-8e3:Pa.Unknown)}function ne(e){$(Tu,e,Pa.NonRetryableStatus),M()}function te(e,n){$(Tu,e,Pa.Unknown),M()}function re(){u=t&&t.disableAutoBatchFlushLimit?0:Math.max(1500,m/6)}F(),e._getDbgPlgTargets=function(){return[o]},e.initialize=function(u,s,f){Lo(s,(function(){return"PostChannel:initialize"}),(function(){var d=s;n.initialize(u,s,f);try{s.addUnloadCb,c=yo(Vi(e.identifier),s.evtNamespace&&s.evtNamespace());var v=e._getTelCtx();u.extensionConfig[e.identifier]=u.extensionConfig[e.identifier]||{},t=v.getExtCfg(e.identifier),l=bu(t.setTimeoutOverride,t.clearTimeoutOverride),O=!t.disableOptimizeObj&&function(){return!!Fr("chrome")}(),function(e){var n=e.getWParam;e.getWParam=function(){var e=0;return t.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()}}(d),t.eventsLimitInMem>0&&(m=t.eventsLimitInMem),t.immediateEventLimit>0&&(g=t.immediateEventLimit),t.autoFlushEventsLimit>0&&(a=t.autoFlushEventsLimit),rt(t[wu])&&(A=t[wu]),rt(t[Su])&&(I=t[Su]),re(),t.httpXHROverride&&t.httpXHROverride.sendPOST&&(i=t.httpXHROverride),ya(u.anonCookieName)&&o.addQueryStringParameter("anoncknm",u.anonCookieName),o.sendHook=t.payloadPreprocessor,o.sendListener=t.payloadListener;var p=t.overrideEndpointUrl?t.overrideEndpointUrl:u.endpointUrl;e._notificationManager=s.getNotifyMgr(),o.initialize(p,e.core,e,i,t);var h=u.disablePageUnloadEvents||[];(function(e,n,t){!function(e,n,t,r){n&&e&&nt(e)&&!To(e,n,t,r)&&t&&t[pe]>0&&To(e,n,null,r)}([ro,to,eo],e,n,t)})(r,h,c),wo(r,h,c),So(x,u.disablePageShowEvents,c)}catch(n){throw e.setInitialized(!1),n}}),(function(){return{coreConfig:u,core:s,extensions:f}}))},e.processTelemetry=function(n,r){Ca(n,e.identifier);var i=(r=e._getTelCtx(r)).getExtCfg(e.identifier),o=!!t.disableTelemetry;i&&(o=o||!!i.disableTelemetry);var a=n;o||f||(t[Cu]&&(a.iKey=t[Cu]),i&&i[Cu]&&(a.iKey=i[Cu]),N(a,!0),_?z(2,2):M()),e.processNext(a,r)},e._doTeardown=function(e,n){z(2,2),f=!0,o.teardown(),function(e,n){Co([ro,to,eo],null,n)}(0,c),function(e,n){var t=yo(io,n);Co([eo],null,t),Co([Yi],null,t)}(0,c),function(e,n){var t=yo(oo,n);Co([no],null,t),Co([Yi],null,t)}(0,c),F()},e.setEventQueueLimits=function(e,n){m=e>0?e:1e4,a=n>0?n:0,re();var t=y>e;if(!t&&u>0)for(var r=1;!t&&r<=3;r++){var i=P[r];i&&i.batches&&ut(i.batches,(function(e){e&&e.count()>=u&&(t=!0)}))}j(!0,t)},e.pause=function(){R(),p=!0,o.pause()},e.resume=function(){p=!1,o.resume(),M()},e.addResponseHandler=function(e){o._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){!function(){R(),G(),T=ka,M()}(),Zn(e,(function(e,n){var t=n.length;if(t>=2){var r=t>2?n[2]:0;if(n.splice(0,t-2),n[1]<0&&(n[0]=-1),n[1]>0&&n[0]>0){var i=n[0]/n[1];n[0]=Math.ceil(i)*n[1]}r>=0&&n[1]>=0&&r>n[1]&&(r=n[1]),n.push(r),b[e]=n}}))},e.flush=function(e,n,t){if(void 0===e&&(e=!0),!p)if(t=t||1,e)null==v?(R(),H(1,0,t),v=U((function(){v=null,V(n,t)}),0)):d.push(n);else{var r=R();D(1,1,t),null!=n&&n(),r&&M()}},e.setMsaAuthTicket=function(e){o.addHeader(ja,e)},e.hasEvents=L,e._setTransmitProfile=function(e){T!==e&&void 0!==b[e]&&(R(),T=e,M())},e._backOffTransmission=function(){S<4&&(S++,R(),M())},e._clearBackOff=function(){S&&(S=0,R(),M())},vt(e,"_setTimeoutOverride",(function(){return l.set}),(function(e){l=bu(e,l.clear)})),vt(e,"_clearTimeoutOverride",(function(){return l.clear}),(function(e){l=bu(l.set,e)}))})),r}return ko(n,e),n.__ieDyn=1,n}(Zo);var Pu,ku="HttpManager:_sendBatches",Ou="PrivacyGuard:_processTelemetry",_u=function(){function e(e,n,t){this.start=Date.now(),this.name=e,this.isAsync=!0===t,this.payload=n}return e.prototype.isChildEvt=function(){return!1},e.prototype.complete=function(){this.time=Date.now()-this.start,this.exTime=this.time},e}(),Au=function(){function e(e){this._callbacks=e}return e.prototype.create=function(e,n,t){return e===ku||e===Ou?new _u(e,n,t):null},e.prototype.fire=function(e){if(e&&e.complete(),this._callbacks)switch(e.name){case ku:this.handleSendBatches(e);break;case Ou:this.handlePrivacyGuardNotification(e)}},e.prototype.setCtx=function(e,n){},e.prototype.getCtx=function(e){},e.prototype.handleSendBatches=function(e){if(this._callbacks.requestProcessingStats){var n=0;if(e.payload){var t=e.payload();if(t.batches)for(var r in t.batches)n+=t.batches[r].evts.length}this._callbacks.requestProcessingStats(e.time||0,n)}},e.prototype.handlePrivacyGuardNotification=function(e){this._callbacks.privacyGuardStats&&e.time&&e.time>0&&this._callbacks.privacyGuardStats(e.time)},e}(),Iu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.initialize=function(n,t){this._postChannel=new Eu;var r=null!=t?t:[];n.channels=[[this._postChannel]],n.extensionConfig=n.extensionConfig||[],n.extensionConfig[this._postChannel.identifier]=o(o({},n.channelConfiguration),n.extensionConfig[this._postChannel.identifier]);try{e.prototype.initialize.call(this,n,r)}catch(e){this.logger.warnToConsole("Failed to initialize SDK."+e)}},n.prototype.setUploadFrequency=function(e){if(this._postChannel&&e){var n=e/1e3,t=n/2,r={};r.OTelCustomTransmissionProfile=[n,t],this._postChannel._loadTransmitProfiles(r),this._postChannel._setTransmitProfile("OTelCustomTransmissionProfile")}},n.prototype.flush=function(e){this._postChannel&&this._postChannel.flush(e)},n.prototype.shutdown=function(){this._postChannel&&this._postChannel.teardown()},n}(Ea),xu=function(e){function n(n,t){var r,i=e.call(this,n,t)||this;i.sendTelemetryEvent=function(e){return function(n,t){try{return function(){var n=i.getOneDSTelemetryEvent(e);n&&r&&r.track(n)}()}catch(e){return void f(1,"1DS Sink",e)}}()},i.sendCustomerContent=function(e){},i.sendNonStandardEvent=function(e,n){var t=!1;a.forEach((function(r){r.canHandle(n)&&(r.processEvent(e),t=!0)})),t||l(0,1,(function(){return"Missing Handler for "+n+"to process"+e.eventName}))},i.flush=function(e){null==r||r.flush(e),a.forEach((function(n){n.flush(e)}))},i.shutdown=function(){try{null==r||r.shutdown(),a.forEach((function(e){e.shutdown()}))}catch(e){l(0,2,(function(){return"An error occurred on shutdown"}))}};var a=t.nonStandardEventHandlers||[];if(r=function(e,n){var t=e.httpXHROverride,r={instrumentationKey:"f998cc5ba4d448d6a1e8e913ff18be94-dd122e0a-fcf8-4dc5-9dbb-6afac5325183-7405",endpointUrl:e.endpointUrl,channelConfiguration:{eventsLimitInMem:e.eventsLimitInMem,httpXHROverride:t,setTimeoutOverride:e.setTimeoutOverride,clearTimeoutOverride:e.clearTimeoutOverride,ignoreMc1Ms0CookieProcessing:!0,disableOptimizeObj:!0},enableWParam:!t,disableCookiesUsage:!0,extensionConfig:o({},e.extensionConfig)};e.stats&&e.stats.networkStats&&r.channelConfiguration&&(r.channelConfiguration.payloadListener=function(n,t){var r,i=t||n;i.data&&(null===(r=e.stats)||void 0===r||r.networkStats(i.data.length))});var i=new Iu;return i.initialize(r,e.plugins),i.setUploadFrequency(e.uploadFrequency),e.notificationListener&&i.addNotificationListener(e.notificationListener),e.stats&&i.setPerfMgr(new Au(e.stats)),i}(t),a.forEach((function(e){e.initialize(i,t)})),!t.endpointUrl)throw new Error("Missing Endpoint Url");return t.disableStatsTracking||function(e,n){n&&n.addNotificationListener({eventsSent:function(n){l(2,2,(function(){return"Successfully sent ".concat(n.length," event(s)")})),l(3,2,(function(){return"Sent event(s) details : ".concat(JSON.stringify(n,null,2))})),e.eventsSent+=n.length},eventsDiscarded:function(n,t){l(0,2,(function(){return"Discarded ".concat(n.length," event(s) because ").concat(t)})),l(3,2,(function(){return"Discarded event(s) details : ".concat(JSON.stringify(n,null,2))})),e.eventsDiscarded+=n.length}})}(i,r),i}return i(n,e),n}(Eo);function Nu(e){for(var n=[],t=0;t<e.length;++t){var r=("00"+e[t].toString(16)).slice(-2);n.push(r)}return n.join("")}function Du(e,n,t,r){return a(this,void 0,void 0,(function(){var i,o;return u(this,(function(a){switch(a.label){case 0:return[4,r(n+t)];case 1:return i=a.sent(),[4,e.digest({name:"SHA-256"},i)];case 2:return o=a.sent(),[2,Nu(new Uint8Array(o))]}}))}))}function Lu(){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,t.e(499).then(t.t.bind(t,922,23))];case 1:return[2,e.sent().default]}}))}))}function Mu(e){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return e?[2,new TextEncoder]:[4,Lu()];case 1:return[2,new(n.sent().TextEncoderLite)]}}))}))}function Fu(e){return a(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,Mu("TextEncoder"in window)];case 1:return[2,n.sent().encode(e)]}}))}))}!function(e){e.Prod="prod",e.ProdPrv="prodprv",e.PPE="ppe",e.Dev="dev",e.PFProd="pfprod",e.TBProd="tbprod",e.BFProd="bfprod",e.UNProd="unprod",e.USProd="usprod",e.PFProdPrv="pfprodprv",e.TBProdPrv="tbprodprv",e.UNProdPrv="unprodprv",e.USProdPrv="usprodprv"}(Pu||(Pu={}));var Uu="Flights",Ru="EventCategory",zu="PageView",Bu="Action",ju="Error",Ku="Session",qu="EventName",Hu="Area",Vu="SubArea",Qu="PageName",Gu="PageType";function Wu(e){return e.join(".")}var Xu=new RegExp("[a-zA-Z0-9_\\-\\.]+(@|%40|%2540)[a-zA-Z0-9_\\-\\.]+\\.[a-zA-Z]{2,63}","gm"),Ju=new RegExp("file(:|%3A|%253A).*","gim"),$u=/"UserDisplayName":\s*"[^"]+"/g,Zu=new RegExp("([&?]q=)(.+?)(?=[&].*| |, |$)","gmi");function Yu(){var e={keyword:"Other",deviceType:"Other"},n=window.navigator.userAgent.toLowerCase();return[{keyword:"Windows NT",deviceType:"PC"},{keyword:"Windows XP",deviceType:"PC"},{keyword:"Macintosh",deviceType:"Mac"},{keyword:"Windows Phone",deviceType:"WindowsPhone"},{keyword:"iPad",deviceType:"iPad"},{keyword:"iPhone",deviceType:"iPhone"},{keyword:"Android",deviceType:"AndroidPhone"},{keyword:"Linux",deviceType:"Linux"},{keyword:"CrOS",deviceType:"Chromebook"}].some((function(t){return-1!==n.indexOf(t.keyword.toLowerCase())&&(e=t,!0)})),e.deviceType}var es=function(){function e(){this.unAuthLoggerInitialized=!1,this.authLoggerInitialized=!1,this.unAuthQueue=[],this.authQueue=[]}return e.prototype.initializeUnAuthOTel=function(e){var n=this;if(e.oTelEnabled&&e.oTelAriaTenant&&!this.unAuthOtelLogger)return this.nameSpace=e.oTelAriaNameSpace,this.eventCategoryConfig=e.eventCategoryConfig,this.unAuthOtelLogger=new q,this.unAuthOtelLogger.setTenantToken(e.oTelAriaNameSpace,e.oTelAriaTenant,-1),this.flights=e.flights,this.getPartAFields(e.appName,e.appPlatform,e.appWorkload,e.bundleBuildDate,e.correlationId,e.deploymentEnvironment,e.domainOrigin,e.flights,e.isCorpNet,e.isTestTraffic,e.sessionId,e.serverLocation,e.requestOrigin).then((function(t){var r=n.getOneDsSink(t,e.deploymentEnvironment);n.unAuthOtelLogger.addSink(r),n.unAuthLoggerInitialized=!0,n.drainQueuedEvents(n.unAuthQueue,!0),n.logSessionStart(!0,e.initialPageName,e.initialPageType)}))},e.prototype.initializeAuthOTel=function(e){var n=this;return e.oTelEnabled&&e.oTelAriaTenant&&!this.authOtelLogger?(this.nameSpace=e.oTelAriaNameSpace,this.eventCategoryConfig=e.eventCategoryConfig,this.authOtelLogger=new q,this.authOtelLogger.setTenantToken(e.oTelAriaNameSpace,e.oTelAriaTenant,-1),this.flights=e.flights,this.getPartAFields(e.appName,e.appPlatform,e.appWorkload,e.bundleBuildDate,e.correlationId,e.deploymentEnvironment,e.domainOrigin,e.flights,e.isCorpNet,e.isTestTraffic,e.sessionId,e.serverLocation,e.requestOrigin,e.identity).then((function(t){var r=n.getOneDsSink(t,e.deploymentEnvironment);n.authOtelLogger.addSink(r),n.authLoggerInitialized=!0,n.drainQueuedEvents(n.authQueue,!1),n.logSessionStart(!1)}))):Promise.resolve()},e.prototype.logSessionStart=function(e,n,t,r){var i={},o=null!=r?r:0,a=this.getAppSecurityLevel();i[Ru]="Session";var u=void 0;if(e?this.unAuthOtelLogger:this.authOtelLogger){if(o>a||window.disableLogs)return;i[qu]="Session_Started",i[Wu([Ku,Uu])]=this.flights,i[Wu([Ku,Qu])]=null!=n?n:"",i[Wu([Ku,Gu])]=t?this.getPageType(t):"",u="Session";var s=[this.nameSpace,u].join("."),c=this.convertToDataFields(i);this.sendTelemetryEvent(e?this.unAuthOtelLogger:this.authOtelLogger,s,c,2,110)}},e.prototype.logEvent=function(e,n,t,r){var i=null!=t?t:0,o=this.getAppSecurityLevel();if(r&&this.isEligible(n)){if(i>o||window.disableLogs)return;var a=[this.nameSpace,e].join("."),u=this.convertToDataFields(n);this.sendTelemetryEvent(r,a,u,2,110)}},e.prototype.logPageView=function(e,n){var t,r,i={},o=null!==(t=e.securityThreshold)&&void 0!==t?t:0,a=this.getAppSecurityLevel();i[Ru]="PageView";var u=void 0;if(e.pageName&&(n?this.unAuthOtelLogger:this.authOtelLogger)&&this.eventCategoryConfig.pageViewEnabled){if(o>a||window.disableLogs)return;if(i[qu]=null!==(r=e.eventName)&&void 0!==r?r:"",i[Wu([zu,Qu])]=e.pageName,i[Wu([zu,Gu])]=this.getPageType(e.pageType),i[Wu([zu,"IsIntentional"])]=e.isIntentional,u=["PageView",e.pageName].join("."),n?this.unAuthLoggerInitialized:this.authLoggerInitialized){var s=[this.nameSpace,u].join("."),c=this.convertToDataFields(i);this.sendTelemetryEvent(n?this.unAuthOtelLogger:this.authOtelLogger,s,c,2,110)}else{var l={eventName:u,params:i,isDiagnostic:!1,securityThreshold:o};n?this.unAuthQueue.push(l):this.authQueue.push(l)}}},e.prototype.logUnAuthUserAction=function(e){var n,t,r,i,o=this.getAppSecurityLevel(),a=null!==(n=e.securityThreshold)&&void 0!==n?n:0;if(this.eventCategoryConfig.actionEnabled){if(a>o||window.disableLogs)return;var u={};u[Ru]="Action",u[Wu([Bu,"Type"])]=null!==(t=e.type)&&void 0!==t?t:"Click",u[Wu([Bu,"Id"])]=e.id,u[Wu([Bu,Hu])]=e.area,u[Wu([Bu,Vu])]=null!==(r=e.subArea)&&void 0!==r?r:"Other",u[Wu([Bu,"Result"])]=e.result,u[Wu([Bu,"Target"])]=e.target,u[Wu([Bu,"TargetId"])]=null!==(i=e.targetId)&&void 0!==i?i:"",u[Wu([Bu,Qu])]=e.pageName,u[Wu([Bu,Gu])]=this.getPageType(e.pageType);var s=["Action",e.result,e.target].join(".");if(this.unAuthLoggerInitialized){var c=[this.nameSpace,s].join("."),l=this.convertToDataFields(u);this.sendTelemetryEvent(this.unAuthOtelLogger,c,l,2,110)}else{var f={eventName:s,params:u,isDiagnostic:!1,securityThreshold:a};this.unAuthQueue.push(f)}}},e.prototype.logError=function(e,n,t){var r,i,o,a,u={},s=null!=t?t:0,c=this.getAppSecurityLevel(),l=void 0;if(this.eventCategoryConfig.errorEnabled){if(s>c||window.disableLogs)return;if(u[qu]=e.eventName,u[Ru]="Error",u[Wu([ju,"ErrorType"])]=null!==(r=e.errorType)&&void 0!==r?r:"",u[Wu([ju,Hu])]=null!==(i=e.area)&&void 0!==i?i:"",u[Wu([ju,Vu])]=null!==(o=e.subArea)&&void 0!==o?o:"",u[Wu([ju,"ErrorCategory"])]=null!==(a=e.errorCategory)&&void 0!==a?a:"",e.occurrenceCount&&(u[Wu([ju,"OccurrenceCount"])]=e.occurrenceCount),l="Error",n?this.unAuthLoggerInitialized:this.authLoggerInitialized){var f=[this.nameSpace,l].join("."),d=this.convertToDataFields(u);this.sendTelemetryEvent(n?this.unAuthOtelLogger:this.authOtelLogger,f,d,2,110)}else{var v={eventName:l,params:u,isDiagnostic:!1,securityThreshold:s};this.authQueue.push(v)}}},e.prototype.logBootError=function(e,n,t){var r={};t&&(r.ResourceUrl=t),n&&(r.Details=function(e){return e?e.replace(/[\n\r\t\b]/gm,"").replace(Xu,"email_removed").replace(Ju,"file_removed").replace(Zu,"$1query_removed").replace($u,'"UserDisplayName": "username_removed"'):e}(n)),this.logError({eventName:e},!1)},e.prototype.logAppBundleError=function(e){var n=this.getCDNResourceDetails(e);this.logBootError("App_Bundle_Parsing_Error",JSON.stringify(n))},e.prototype.getCDNResourceDetails=function(e){var n=[];if(performance&&performance.getEntriesByType){var t=performance.getEntriesByType("resource");if(t)for(var r=0;r<t.length;r++){var i=t[r];if(("link"===i.initiatorType||"script"===i.initiatorType)&&void 0!==i.transferSize&&void 0!==i.decodedBodySize&&i.name&&i.name.indexOf(e)>=0){var o=i.name.split("/"),a=o.length>0?o[o.length-1]:"",u=i.transferSize,s=i.decodedBodySize;n.push({name:a,tSize:u,dSize:s})}}}return n},e.prototype.isEligible=function(e){switch(e[Ru]){case"Action":return this.eventCategoryConfig.actionEnabled;case"Diagnostic":return this.eventCategoryConfig.diagnosticEnabled;case"Error":return this.eventCategoryConfig.errorEnabled;case"Feature":return this.eventCategoryConfig.featureEnabled;case"Impression":return this.eventCategoryConfig.impressionEnabled;case"PageView":return this.eventCategoryConfig.pageViewEnabled;case"Performance":return this.eventCategoryConfig.perfEnabled;case"Request":return this.eventCategoryConfig.requestEnabled;case"Session":return!0;default:return!1}},e.prototype.getAppSecurityLevel=function(){return"number"==typeof window.windowsDataSecuritySetting?window.windowsDataSecuritySetting:3},e.prototype.drainQueuedEvents=function(e,n){var t=this;e.splice(0,e.length).forEach((function(e){e.eventName&&t.logEvent(e.eventName,e.params||{},e.securityThreshold,n?t.unAuthOtelLogger:t.authOtelLogger)}))},e.prototype.sendTelemetryEvent=function(e,n,t,r,i){e.sendTelemetryEvent({eventName:n,dataFields:t,eventFlags:{dataCategories:r,diagnosticLevel:i}})},e.prototype.getPartAFields=function(e,n,t,r,i,o,c,l,f,d,v,p,h,g,y){return a(this,void 0,void 0,(function(){var a,m,b,T,C,S,E,P;return u(this,(function(u){switch(u.label){case 0:return a="0",m=r.split(" ")[0].split("-").join(""),b=[m,a].join("."),T=s(s(s([],F({platform:n,name:e,version:b}),!0),U({id:i}),!0),[w(Wu(["Release","AudienceGroup"]),this.getReleaseAudienceGroup(o,f,d)),w("DeploymentEnvironment",o)],!1),g?(C=null==g?void 0:g.puid,S="",C&&(S=(null==g?void 0:g.isMsa)?"MsaPuid":"OrgIdPuid"),T.push.apply(T,N({primaryIdentityHash:C,primaryIdentitySpace:S,tenantId:null==g?void 0:g.tenantId,tenantGroup:(null==g?void 0:g.isMsa)?"Consumer":"Commercial",isAnonymous:!1}))):T.push.apply(T,N({isAnonymous:!0})),[4,Du(crypto.subtle,l,"",Fu)];case 1:return E=u.sent(),P=[w("EventSchemaVersion","1.0.0"),w("RequestOrigin",h),w("BrowserSessionId",v),w("AppWorkload",t),w("Geo",p),w("DeviceType",Yu()),w(Uu,l),w("FlightsHash",E),w("DomainOrigin",c),w("AppWorkloadType",y||"")],[2,s(s([],T,!0),P,!0)]}}))}))},e.prototype.getReleaseAudienceGroup=function(e,n,t){if(t)return"Automation";switch(e){case Pu.Dev:case Pu.PPE:case Pu.ProdPrv:return"Automation";case Pu.Prod:case Pu.BFProd:case Pu.PFProd:case Pu.TBProd:case Pu.UNProd:case Pu.USProd:return n?"Microsoft":"Production";default:return"Automation"}},e.prototype.getOneDsEndpoint=function(e){switch(e){case Pu.PFProd:return B.USGOV_DOD;case Pu.TBProd:return B.USGOV_DOJ;default:return B.PUBLIC}},e.prototype.getOneDsSink=function(e,n){return new xu(e,{endpointUrl:this.getOneDsEndpoint(n)})},e.prototype.convertToDataFields=function(e){return Object.keys(e).filter((function(n){return"number"==typeof e[n]||"boolean"==typeof e[n]||"string"==typeof e[n]})).map((function(n){var t=e[n];switch(typeof t){case"number":return C(n,t);case"boolean":return T(n,t);case"string":return w(n,t)}}))},e.prototype.getPageType=function(e){switch(e){case"SignoutUserView":return"SignOut";case"ReturningUserView":return"Returning";case"NewUserView":return"New";case"LaunchM365AppView":return"LaunchM365Page";default:return"Other"}},e}();!function(){window.standaloneOteLogger=new es}()})();
//# sourceMappingURL=otel-logger-ab46641da92cabcd8c09.js.map